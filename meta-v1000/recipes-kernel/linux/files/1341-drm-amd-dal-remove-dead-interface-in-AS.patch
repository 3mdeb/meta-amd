From 66724ddd4e436a063956daf851ece1494acdbf69 Mon Sep 17 00:00:00 2001
From: Tony Cheng <tony.cheng@amd.com>
Date: Sat, 15 Oct 2016 22:19:13 -0400
Subject: [PATCH 1341/1722] drm/amd/dal: remove dead interface in AS

Change-Id: Iac0503f45bf06484a11cae31a2d0df16a8900004
Signed-off-by: Tony Cheng <tony.cheng@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 .../gpu/drm/amd/dal/dc/adapter/adapter_service.c   | 33 ----------------------
 drivers/gpu/drm/amd/dal/dc/i2caux/i2caux.c         |  2 +-
 .../amd/dal/include/adapter_service_interface.h    | 14 ---------
 3 files changed, 1 insertion(+), 48 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
index 790e836..c7904ca 100644
--- a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
+++ b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
@@ -827,12 +827,6 @@ enum dce_version dal_adapter_service_get_dce_version(
 	}
 }
 
-enum dce_environment dal_adapter_service_get_dce_environment(
-	const struct adapter_service *as)
-{
-	return as->dce_environment;
-}
-
 static bool is_wireless_object(struct graphics_object_id id)
 {
 	if ((id.type == OBJECT_TYPE_ENCODER &&
@@ -1176,17 +1170,6 @@ bool dal_adapter_service_get_feature_value(struct adapter_service *as,
 }
 
 /*
- * dal_adapter_service_get_bios_parser
- *
- * Get BIOS parser handler
- */
-struct dc_bios *dal_adapter_service_get_bios_parser(
-	struct adapter_service *as)
-{
-	return as->ctx->dc_bios;
-}
-
-/*
  * dal_adapter_service_get_i2caux
  *
  * Get i2c aux handler
@@ -1214,16 +1197,6 @@ bool dal_adapter_service_get_embedded_panel_info(
 }
 
 /*
- * dal_adapter_service_is_dfsbyass_dynamic
- *
- *
- **/
-bool dal_adapter_service_is_dfsbyass_dynamic(struct adapter_service *as)
-{
-	return as->asic_cap->caps.DFSBYPASS_DYNAMIC_SUPPORT;
-}
-
-/*
  * dal_adapter_service_should_optimize
  *
  * @brief Reports whether driver settings allow requested optimization
@@ -1272,12 +1245,6 @@ bool dal_adapter_service_should_optimize(
 	return (supported_optimization & feature) != 0;
 }
 
-uint32_t dal_adapter_service_get_downscale_limit(
-		struct adapter_service *as)
-{
-	return as->asic_cap->data[ASIC_DATA_DOWNSCALE_LIMIT];
-}
-
 bool dal_adapter_service_get_encoder_cap_info(
 		struct adapter_service *as,
 		struct graphics_object_id id,
diff --git a/drivers/gpu/drm/amd/dal/dc/i2caux/i2caux.c b/drivers/gpu/drm/amd/dal/dc/i2caux/i2caux.c
index ecd6f65..d912131 100644
--- a/drivers/gpu/drm/amd/dal/dc/i2caux/i2caux.c
+++ b/drivers/gpu/drm/amd/dal/dc/i2caux/i2caux.c
@@ -76,7 +76,7 @@ struct i2caux *dal_i2caux_create(
 	}
 
 	dce_version = dal_adapter_service_get_dce_version(as);
-	dce_environment = dal_adapter_service_get_dce_environment(as);
+	dce_environment = ctx->dce_environment;
 
 	if (IS_FPGA_MAXIMUS_DC(dce_environment)) {
 		return dal_i2caux_diag_fpga_create(as, ctx);
diff --git a/drivers/gpu/drm/amd/dal/include/adapter_service_interface.h b/drivers/gpu/drm/amd/dal/include/adapter_service_interface.h
index d94ab7d9..e9c31c3 100644
--- a/drivers/gpu/drm/amd/dal/include/adapter_service_interface.h
+++ b/drivers/gpu/drm/amd/dal/include/adapter_service_interface.h
@@ -331,9 +331,6 @@ void dal_adapter_service_destroy(
 enum dce_version dal_adapter_service_get_dce_version(
 	const struct adapter_service *as);
 
-enum dce_environment dal_adapter_service_get_dce_environment(
-	const struct adapter_service *as);
-
 /* Get firmware information from BIOS */
 bool dal_adapter_service_get_firmware_info(
 	struct adapter_service *as,
@@ -395,10 +392,6 @@ bool dal_adapter_service_get_i2c_info(
 	struct graphics_object_id id,
 	struct graphics_object_i2c_info *i2c_info);
 
-/* Get bios parser handler */
-struct dc_bios *dal_adapter_service_get_bios_parser(
-	struct adapter_service *as);
-
 /* Get i2c aux handler */
 struct i2caux *dal_adapter_service_get_i2caux(
 	struct adapter_service *as);
@@ -426,17 +419,10 @@ struct graphics_object_id dal_adapter_service_get_src_obj(
 	struct graphics_object_id id,
 	uint32_t index);
 
-
-/* Is this ASIC support dynamic DFSbypass switch */
-bool dal_adapter_service_is_dfsbyass_dynamic(struct adapter_service *as);
-
 /* Reports whether driver settings allow requested optimization */
 bool dal_adapter_service_should_optimize(
 		struct adapter_service *as, enum optimization_feature feature);
 
-uint32_t dal_adapter_service_get_downscale_limit(
-		struct adapter_service *as);
-
 bool dal_adapter_service_get_encoder_cap_info(
 		struct adapter_service *as,
 		struct graphics_object_id id,
-- 
2.7.4

