From c26aa3c3692a026b58b444188642dbe72f2af598 Mon Sep 17 00:00:00 2001
From: Awais Belal <awais_belal@mentor.com>
Date: Thu, 16 Jun 2016 14:28:03 +0500
Subject: [PATCH] amdgpu: fix various compilation issues

Signed-off-by: Awais Belal <awais_belal@mentor.com>
---
 drivers/gpu/drm/amd/dal/dc/calcs/bandwidth_calcs.c | 2 +-
 drivers/gpu/drm/amd/dal/dc/core/dc_link_dp.c       | 6 +++---
 drivers/gpu/drm/amd/dal/dc/dcs/ddc_service.c       | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/calcs/bandwidth_calcs.c b/drivers/gpu/drm/amd/dal/dc/calcs/bandwidth_calcs.c
index 3cbf6f8..cc08981 100644
--- a/drivers/gpu/drm/amd/dal/dc/calcs/bandwidth_calcs.c
+++ b/drivers/gpu/drm/amd/dal/dc/calcs/bandwidth_calcs.c
@@ -3137,7 +3137,7 @@ static void calculate_bandwidth(
 																	bw_int_to_fixed(
 																		2),
 																	vbios->mcifwrmc_urgent_latency),
-																results->dmif_burst_time[i][j]),
+																results->dmif_burst_time[results->y_clk_level][results->sclk_level]),
 															results->mcifwr_burst_time[results->y_clk_level][results->sclk_level])),
 														results->dispclk),
 													bw_int_to_fixed(
diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc_link_dp.c b/drivers/gpu/drm/amd/dal/dc/core/dc_link_dp.c
index 787091f..3f47c04 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc_link_dp.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc_link_dp.c
@@ -874,10 +874,10 @@ static bool perform_clock_recovery_sequence(
 			retries_cr = 0;
 
 
-			/* 8. update VS/PE/PC2 in lt_settings*/
-			update_drive_settings(lt_settings, req_settings);
+		/* 8. update VS/PE/PC2 in lt_settings*/
+		update_drive_settings(lt_settings, req_settings);
 
-			retry_count++;
+		retry_count++;
 	}
 
 	if (retry_count >= LINK_TRAINING_MAX_CR_RETRY) {
diff --git a/drivers/gpu/drm/amd/dal/dc/dcs/ddc_service.c b/drivers/gpu/drm/amd/dal/dc/dcs/ddc_service.c
index 854ff3f..b995a4e 100644
--- a/drivers/gpu/drm/amd/dal/dc/dcs/ddc_service.c
+++ b/drivers/gpu/drm/amd/dal/dc/dcs/ddc_service.c
@@ -42,7 +42,7 @@
 #define CV_SMART_DONGLE_ADDRESS 0x20
 /* DVI-HDMI dongle slave address for retrieving dongle signature*/
 #define DVI_HDMI_DONGLE_ADDRESS 0x68
-static const int8_t dvi_hdmi_dongle_signature_str[] = "6140063500G";
+
 struct dvi_hdmi_dongle_signature_data {
 	int8_t vendor[3];/* "AMD" */
 	uint8_t version[2];
-- 
1.9.1

