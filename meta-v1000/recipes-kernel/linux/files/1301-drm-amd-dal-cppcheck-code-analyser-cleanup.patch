From 7c5742860ca75d7d670e7a3d845759e42d650314 Mon Sep 17 00:00:00 2001
From: Andrey Grodzovsky <Andrey.Grodzovsky@amd.com>
Date: Tue, 11 Oct 2016 01:45:27 -0400
Subject: [PATCH 1301/1722] drm/amd/dal: cppcheck code analyser cleanup.

Change-Id: I1b05328a555fafdb48662916edfbe5d3ce3d8624
Signed-off-by: Andrey Grodzovsky <Andrey.Grodzovsky@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 drivers/gpu/drm/amd/dal/amdgpu_dm/amdgpu_dm_helpers.c        | 2 +-
 drivers/gpu/drm/amd/dal/dc/asic_capability/asic_capability.c | 4 ----
 drivers/gpu/drm/amd/dal/dc/dce110/dce110_stream_encoder.c    | 6 ++----
 3 files changed, 3 insertions(+), 9 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/amdgpu_dm/amdgpu_dm_helpers.c b/drivers/gpu/drm/amd/dal/amdgpu_dm/amdgpu_dm_helpers.c
index 625abed..58863ce 100644
--- a/drivers/gpu/drm/amd/dal/amdgpu_dm/amdgpu_dm_helpers.c
+++ b/drivers/gpu/drm/amd/dal/amdgpu_dm/amdgpu_dm_helpers.c
@@ -90,7 +90,7 @@ enum dc_edid_status dm_helpers_parse_edid_caps(
 	 * stored in an array of length 13. */
 	for (i = 0; i < 4; i++) {
 		if (edid_buf->detailed_timings[i].data.other_data.type == 0xfc) {
-			while (edid_buf->detailed_timings[i].data.other_data.data.str.str[j] && j < 13) {
+			while (j < 13 && edid_buf->detailed_timings[i].data.other_data.data.str.str[j]) {
 				if (edid_buf->detailed_timings[i].data.other_data.data.str.str[j] == '\n')
 					break;
 
diff --git a/drivers/gpu/drm/amd/dal/dc/asic_capability/asic_capability.c b/drivers/gpu/drm/amd/dal/dc/asic_capability/asic_capability.c
index 3456ca04..da8319c 100644
--- a/drivers/gpu/drm/amd/dal/dc/asic_capability/asic_capability.c
+++ b/drivers/gpu/drm/amd/dal/dc/asic_capability/asic_capability.c
@@ -101,10 +101,6 @@ static bool construct(
 		break;
 
 	case FAMILY_KV:
-		if (ASIC_REV_IS_KALINDI(init->hw_internal_rev) ||
-			ASIC_REV_IS_BHAVANI(init->hw_internal_rev)) {
-		} else {
-		}
 		break;
 
 	case FAMILY_CZ:
diff --git a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_stream_encoder.c b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_stream_encoder.c
index a0f5c40..4288e8a 100644
--- a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_stream_encoder.c
+++ b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_stream_encoder.c
@@ -945,10 +945,8 @@ bool get_audio_clock_info(
 			else if (clock_info[index].pixel_clock_in_10khz ==
 					crtc_pixel_clock_in_10khz) {
 				/* match found */
-				if (audio_clock_info != NULL) {
-					*audio_clock_info = clock_info[index];
-					return true;
-				}
+				*audio_clock_info = clock_info[index];
+				return true;
 			}
 		}
 	}
-- 
2.7.4

