From 90807aca4fa6ba486ea4ca4a754e64665d4fcf46 Mon Sep 17 00:00:00 2001
From: Awais Belal <awais_belal@mentor.com>
Date: Thu, 1 Jun 2017 13:05:59 +0500
Subject: [PATCH 3/5] CMakeLists: do not use hardcoded source paths

Hardcoding of paths breaks out-of-tree builds.

Signed-off-by: Awais Belal <awais_belal@mentor.com>
---
 vktrace/vktrace_replay/CMakeLists.txt | 4 ++--
 vktrace/vktrace_trace/CMakeLists.txt  | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/vktrace/vktrace_replay/CMakeLists.txt b/vktrace/vktrace_replay/CMakeLists.txt
index 83ceee4a2..8a84a58a2 100644
--- a/vktrace/vktrace_replay/CMakeLists.txt
+++ b/vktrace/vktrace_replay/CMakeLists.txt
@@ -40,7 +40,7 @@ set(SRC_LIST
     vkreplay_main.cpp
     vkreplay_seq.cpp
     vkreplay_factory.cpp
-    ../../../layersvt/screenshot_parsing.cpp
+    ${SRC_DIR}/../layersvt/screenshot_parsing.cpp
     
 )
 
@@ -49,7 +49,7 @@ set (HDR_LIST
     vkreplay_settings.h
     vkreplay_vkdisplay.h
     vkreplay_vkreplay.h
-    ../../../layersvt/screenshot_parsing.h
+    ${SRC_DIR}/../layersvt/screenshot_parsing.h
     ${GENERATED_FILES_DIR}/vkreplay_vk_func_ptrs.h
     ${GENERATED_FILES_DIR}/vkreplay_vk_objmapper.h
     ${GENERATED_FILES_DIR}/vktrace_vk_packet_id.h
diff --git a/vktrace/vktrace_trace/CMakeLists.txt b/vktrace/vktrace_trace/CMakeLists.txt
index e8ddaed28..9e03b0961 100644
--- a/vktrace/vktrace_trace/CMakeLists.txt
+++ b/vktrace/vktrace_trace/CMakeLists.txt
@@ -12,8 +12,8 @@ set(SRC_LIST
     vktrace.cpp
     vktrace_process.h
     vktrace_process.cpp
-    ../../../layersvt/screenshot_parsing.h
-    ../../../layersvt/screenshot_parsing.cpp
+    ${SRC_DIR}/../layersvt/screenshot_parsing.h
+    ${SRC_DIR}/../layersvt/screenshot_parsing.cpp
 )
 
 include_directories(
-- 
2.11.1

