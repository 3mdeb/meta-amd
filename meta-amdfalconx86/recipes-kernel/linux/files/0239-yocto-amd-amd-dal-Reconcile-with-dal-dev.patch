From ca9e3ee84101de3fa964b0f1a98e51a2459d52c7 Mon Sep 17 00:00:00 2001
From: Harry Wentland <harry.wentland@amd.com>
Date: Fri, 3 Jul 2015 16:42:33 -0400
Subject: [PATCH 356/401] amd/dal: Reconcile with dal-dev

Signed-off-by: Harry Wentland <harry.wentland@amd.com>
Reviewed-by: Mykola Lysenko <mykola.lysenko@amd.com>
Signed-off-by: Sanjay R Mehta <sanju.mehta@amd.com>
---
 drivers/gpu/drm/amd/dal/adapter/adapter_service.c  |   2 -
 drivers/gpu/drm/amd/dal/dal_services.h             |   3 +-
 .../amd/dal/display_service/backlight_adj_group.c  | 115 +--------------------
 .../amd/dal/display_service/backlight_adj_group.h  |  12 ---
 .../drm/amd/dal/display_service/display_service.c  |  16 ---
 .../encoder/dce110/hw_ctx_digital_encoder_dce110.c |   6 +-
 drivers/gpu/drm/amd/dal/encoder/encoder.c          |  33 +-----
 .../drm/amd/dal/encoder/external_digital_encoder.c |   7 +-
 .../gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c    |  38 -------
 drivers/gpu/drm/amd/dal/include/adjustment_types.h |   2 -
 .../amd/dal/include/display_service_interface.h    |   8 --
 drivers/gpu/drm/amd/dal/include/grph_object_id.h   |   3 +-
 .../gpu/drm/amd/dal/include/hw_adjustment_types.h  |   2 -
 .../drm/amd/dal/include/hw_sequencer_interface.h   |  18 ----
 drivers/gpu/drm/amd/dal/topology/topology.c        |  14 +--
 15 files changed, 22 insertions(+), 257 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/adapter/adapter_service.c b/drivers/gpu/drm/amd/dal/adapter/adapter_service.c
index 622dc4ab..6686450 100644
--- a/drivers/gpu/drm/amd/dal/adapter/adapter_service.c
+++ b/drivers/gpu/drm/amd/dal/adapter/adapter_service.c
@@ -167,8 +167,6 @@ struct feature_source_entry feature_entry_table[] = {
 	{FEATURE_SUPPORT_EXTERNAL_PANEL_DRR, false, true},
 	{FEATURE_LVDS_SAFE_PIXEL_CLOCK_RANGE, 0, false},
 	{FEATURE_ABM_CONFIG, 0, false},
-	{FEATURE_SUPPORT_SMOOTH_BRIGHTNESS, true, true},
-	{FEATURE_SMOOTH_BRTN_ADJ_TIME_IN_MS, 500, false},
 	{FEATURE_WIRELESS_ENABLE, false, true},
 	{FEATURE_ALLOW_DIRECT_MEMORY_ACCESS_TRIG, false, true},
 	{FEATURE_FORCE_STATIC_SCREEN_EVENT_TRIGGERS, 0, false},
diff --git a/drivers/gpu/drm/amd/dal/dal_services.h b/drivers/gpu/drm/amd/dal/dal_services.h
index e3fcf5e..37729c5 100644
--- a/drivers/gpu/drm/amd/dal/dal_services.h
+++ b/drivers/gpu/drm/amd/dal/dal_services.h
@@ -219,7 +219,8 @@ static inline uint32_t dal_bios_cmd_table_para_revision(
 	uint8_t frev;
 	uint8_t crev;
 
-	if (cgs_atom_get_cmd_table_revs(ctx->cgs_device, index, &frev, &crev) != 0)
+	if (cgs_atom_get_cmd_table_revs(ctx->cgs_device,
+			index, &frev, &crev) != 0)
 		return 0;
 
 	return crev;
diff --git a/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.c b/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.c
index 1b8bff3..4f26923 100644
--- a/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.c
+++ b/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.c
@@ -40,10 +40,6 @@ static uint32_t adj_id_to_cache_index(
 {
 	if (adj_id == ADJ_ID_BACKLIGHT)
 		return BI_ADJ_INDEX_BACKLIGHT;
-	else if (adj_id == ADJ_ID_VARIBRIGHT)
-		return BI_ADJ_INDEX_VARIBRIGHT;
-	else if (adj_id == ADJ_ID_VARIBRIGHT_LEVEL)
-		return BI_ADJ_INDEX_VARIBRIGHT_LEVEL;
 	else if (adj_id == ADJ_ID_BACKLIGHT_OPTIMIZATION)
 		return BI_ADJ_INDEX_BACKLIGHT_OPTIMIZATION;
 
@@ -111,7 +107,7 @@ bool dal_backlight_adj_group_include_backlight_opt_adj(
 	case DS_BACKLIGHT_OPTIMIZATION_DYNAMIC:
 	{
 		uint32_t backlight;
-		uint32_t varibright_level;
+
 		if (dal_backlight_adj_group_get_current_adj(
 				backlight_adj,
 				disp_path,
@@ -124,18 +120,6 @@ bool dal_backlight_adj_group_include_backlight_opt_adj(
 					set))
 				count++;
 		}
-		if (dal_backlight_adj_group_get_current_adj(
-				backlight_adj,
-				disp_path,
-				ADJ_ID_VARIBRIGHT_LEVEL,
-				false,
-				&varibright_level))	{
-			if (dal_backlight_adj_group_add_adj_to_post_mode_set(
-					backlight_adj,
-					varibright_level,
-					set))
-				count++;
-		}
 
 	}
 		break;
@@ -207,25 +191,6 @@ bool dal_backlight_adj_group_include_post_set_mode_adj(
 					set);
 	}
 		break;
-	case ADJ_ID_VARIBRIGHT:
-	{
-		result =
-			dal_backlight_adj_group_add_adj_to_post_mode_set(
-				backlight_adj,
-				value,
-				set);
-	}
-		break;
-	case ADJ_ID_VARIBRIGHT_LEVEL:
-	{
-		if (opt_adjustment != DS_BACKLIGHT_OPTIMIZATION_DIMMED)
-			result =
-			dal_backlight_adj_group_add_adj_to_post_mode_set(
-					backlight_adj,
-					value,
-					set);
-	}
-		break;
 	case ADJ_ID_BACKLIGHT_OPTIMIZATION:
 	{
 		result =
@@ -346,25 +311,6 @@ enum ds_return dal_backlight_adj_group_set_adjustment(
 						value);
 		}
 			break;
-		case ADJ_ID_VARIBRIGHT:
-		{
-			result =
-				dal_backlight_adj_group_set_varibright_adj(
-					backlight_adj,
-					disp_path,
-					value);
-		}
-			break;
-		case ADJ_ID_VARIBRIGHT_LEVEL:
-		{
-			if (opt_adj != DS_BACKLIGHT_OPTIMIZATION_DIMMED)
-				result =
-			dal_backlight_adj_group_set_varibright_level_adj(
-						backlight_adj,
-						disp_path,
-						value);
-		}
-			break;
 		case ADJ_ID_BACKLIGHT_OPTIMIZATION:
 		{
 			result =
@@ -431,42 +377,6 @@ enum ds_return dal_backlight_adj_group_set_backlight_adj(
 	return result;
 }
 
-enum ds_return dal_backlight_adj_group_set_varibright_adj(
-	struct backlight_adj_group *backlight_adj,
-	struct display_path *disp_path,
-	uint32_t value)
-{
-	enum ds_return result = DS_ERROR;
-	struct hw_adjustment_value hw_adj_value;
-
-	hw_adj_value.ui_value = value;
-	if (dal_hw_sequencer_set_varibright_adjustment(
-			backlight_adj->hws,
-			disp_path,
-			&hw_adj_value) == HWSS_RESULT_OK)
-		result = DS_SUCCESS;
-
-	return result;
-}
-
-enum ds_return dal_backlight_adj_group_set_varibright_level_adj(
-	struct backlight_adj_group *backlight_adj,
-	struct display_path *disp_path,
-	uint32_t value)
-{
-	enum ds_return result = DS_ERROR;
-	struct hw_adjustment_value hw_adj_value;
-
-	hw_adj_value.ui_value = value;
-	if (dal_hw_sequencer_set_varibright_level_adjustment(
-			backlight_adj->hws,
-			disp_path,
-			&hw_adj_value) == HWSS_RESULT_OK)
-		result = DS_SUCCESS;
-
-	return result;
-}
-
 enum ds_return dal_backlight_adj_group_set_backlight_optimization_adj(
 	struct backlight_adj_group *backlight_adj,
 	struct display_path *disp_path,
@@ -489,18 +399,12 @@ enum ds_return dal_backlight_adj_group_set_backlight_optimization_adj(
 					backlight) != DS_SUCCESS)
 				return DS_ERROR;
 		}
-		if (dal_backlight_adj_group_set_varibright_level_adj(
-				backlight_adj,
-				disp_path,
-				0) != DS_SUCCESS)
-			return DS_ERROR;
 	}
 		break;
 	case DS_BACKLIGHT_OPTIMIZATION_DESKTOP:
 	case DS_BACKLIGHT_OPTIMIZATION_DYNAMIC:
 	{
 		uint32_t backlight;
-		uint32_t varibright_level;
 
 		if (dal_backlight_adj_group_get_current_adj(
 				backlight_adj,
@@ -515,18 +419,6 @@ enum ds_return dal_backlight_adj_group_set_backlight_optimization_adj(
 				return DS_ERROR;
 		}
 
-		if (dal_backlight_adj_group_get_current_adj(
-				backlight_adj,
-				disp_path,
-				ADJ_ID_VARIBRIGHT_LEVEL,
-				false,
-				&varibright_level))	{
-			if (dal_backlight_adj_group_set_varibright_level_adj(
-					backlight_adj,
-					disp_path,
-					varibright_level) != DS_SUCCESS)
-				return DS_ERROR;
-		}
 	}
 		break;
 	case DS_BACKLIGHT_OPTIMIZATION_DIMMED:
@@ -545,11 +437,6 @@ enum ds_return dal_backlight_adj_group_set_backlight_optimization_adj(
 				backlight) != DS_SUCCESS)
 			return DS_ERROR;
 
-		if (dal_backlight_adj_group_set_varibright_level_adj(
-				backlight_adj,
-				disp_path,
-				0) != DS_SUCCESS)
-			return DS_ERROR;
 	}
 		break;
 	default:
diff --git a/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.h b/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.h
index 043fb67..9787225 100644
--- a/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.h
+++ b/drivers/gpu/drm/amd/dal/display_service/backlight_adj_group.h
@@ -39,8 +39,6 @@ struct adj_catch {
 };
 enum bi_adj_index {
 	BI_ADJ_INDEX_BACKLIGHT = 0,
-	BI_ADJ_INDEX_VARIBRIGHT,
-	BI_ADJ_INDEX_VARIBRIGHT_LEVEL,
 	BI_ADJ_INDEX_BACKLIGHT_OPTIMIZATION
 };
 
@@ -79,16 +77,6 @@ enum ds_return dal_backlight_adj_group_set_backlight_adj(
 	struct display_path *disp_path,
 	uint32_t value);
 
-enum ds_return dal_backlight_adj_group_set_varibright_adj(
-	struct backlight_adj_group *backlight_adj,
-	struct display_path *disp_path,
-	uint32_t value);
-
-enum ds_return dal_backlight_adj_group_set_varibright_level_adj(
-	struct backlight_adj_group *backlight_adj,
-	struct display_path *disp_path,
-	uint32_t value);
-
 enum ds_return dal_backlight_adj_group_set_backlight_optimization_adj(
 	struct backlight_adj_group *backlight_adj,
 	struct display_path *disp_path,
diff --git a/drivers/gpu/drm/amd/dal/display_service/display_service.c b/drivers/gpu/drm/amd/dal/display_service/display_service.c
index 72ce6c5..d5ba922 100644
--- a/drivers/gpu/drm/amd/dal/display_service/display_service.c
+++ b/drivers/gpu/drm/amd/dal/display_service/display_service.c
@@ -559,22 +559,6 @@ enum ds_return dal_display_service_get_backlight_effective_level(
 	return DS_ERROR;
 }
 
-enum ds_return dal_display_service_enable_smooth_brightness(
-	struct display_service *ds,
-	uint32_t display_index)
-{
-	/*TODO: add implementation*/
-	return DS_ERROR;
-}
-
-enum ds_return dal_display_service_disable_smooth_brightness(
-	struct display_service *ds,
-	uint32_t display_index)
-{
-	/*TODO: add implementation*/
-	return DS_ERROR;
-}
-
 enum ds_return dal_display_service_enable_hpd(
 	struct display_service *ds,
 	uint32_t display_index)
diff --git a/drivers/gpu/drm/amd/dal/encoder/dce110/hw_ctx_digital_encoder_dce110.c b/drivers/gpu/drm/amd/dal/encoder/dce110/hw_ctx_digital_encoder_dce110.c
index 9b351d48..a483cf4 100644
--- a/drivers/gpu/drm/amd/dal/encoder/dce110/hw_ctx_digital_encoder_dce110.c
+++ b/drivers/gpu/drm/amd/dal/encoder/dce110/hw_ctx_digital_encoder_dce110.c
@@ -30,7 +30,6 @@
 #include "dce/dce_11_0_d.h"
 #include "dce/dce_11_0_sh_mask.h"
 
-
 #include "include/encoder_types.h"
 #include "include/fixed31_32.h"
 
@@ -606,7 +605,6 @@ static void configure_encoder(
 			DP_CONFIG, DP_UDI_LANES);
 	dal_write_reg(ctx->base.dal_ctx, addr, value);
 
-
 	/* set enhanced frame mode */
 	addr = mmDP_LINK_FRAMING_CNTL + fe_engine_offsets[engine];
 	value = dal_read_reg(ctx->base.dal_ctx, addr);
@@ -1191,6 +1189,8 @@ static void setup_hdmi(
 	set_reg_field_value(value, 1,
 			HDMI_VBI_PACKET_CONTROL, HDMI_NULL_SEND);
 
+	dal_write_reg(ctx->base.dal_ctx, addr, value);
+
 
 	/* following belongs to audio */
 	addr = mmHDMI_INFOFRAME_CONTROL0 + fe_engine_offsets[engine];
@@ -1798,7 +1798,6 @@ static void set_dp_phy_pattern_hbr2_compliance(
 
 	dal_write_reg(ctx->base.dal_ctx, addr, value);
 
-
 	/*TODO add support for this test pattern
 	 * support_dp_hbr2_eye_pattern
 	 */
@@ -1846,7 +1845,6 @@ static void set_dp_phy_pattern_passthrough_mode(
 			DP_LINK_FRAMING_CNTL, DP_VID_ENHANCED_FRAME_MODE);
 	dal_write_reg(ctx, addr, value);
 
-
 	/* set link training complete */
 
 	set_link_training_complete(ctx, be_addr_offset, true);
diff --git a/drivers/gpu/drm/amd/dal/encoder/encoder.c b/drivers/gpu/drm/amd/dal/encoder/encoder.c
index a1e7925..3955d5f 100644
--- a/drivers/gpu/drm/amd/dal/encoder/encoder.c
+++ b/drivers/gpu/drm/amd/dal/encoder/encoder.c
@@ -57,6 +57,7 @@
 #include "dce110/digital_encoder_dp_dce110.h"
 #include "dce110/digital_encoder_edp_dce110.h"
 #include "dce110/digital_encoder_uniphy_dce110.h"
+
 #endif
 
 /*
@@ -194,16 +195,6 @@ struct encoder_impl *dal_encoder_create_mvpu_encoder(
 	return NULL;
 }
 
-struct encoder_impl *dal_nutmeg_encoder_create(
-	const struct encoder_init_data *init)
-{
-	dal_logger_write(init->ctx->logger,
-			LOG_MAJOR_ERROR, LOG_MINOR_COMPONENT_ENCODER,
-			"TRAVIS-VGA encoder not supported\n");
-
-	return NULL;
-}
-
 static struct encoder_impl *create_digital_encoder_impl(
 	enum signal_type signal,
 	const struct encoder_init_data *init)
@@ -235,6 +226,7 @@ static struct encoder_impl *create_digital_encoder_impl(
 	case SIGNAL_TYPE_RGB:
 		/* DP PHY uses driver proprietary programming */
 		switch (dce_version) {
+
 #if defined(CONFIG_DRM_AMD_DAL_DCE11_0)
 		case DCE_VERSION_11_0:
 			return dal_digital_encoder_dp_dce110_create(
@@ -318,13 +310,6 @@ static struct encoder_impl *create_dvo_mvpu_encoder_impl(
 	}
 }
 
-static struct encoder_impl *create_nutmeg_encoder_impl(
-	enum signal_type signal,
-	const struct encoder_init_data *init)
-{
-	return dal_nutmeg_encoder_create(init);
-}
-
 static struct encoder_impl *create_travis_encoder_impl(
 	enum signal_type signal,
 	const struct encoder_init_data *init)
@@ -344,14 +329,6 @@ static struct encoder_impl *create_travis_encoder_impl(
 	}
 }
 
-static struct encoder_impl *create_wireless_encoder_impl(
-	enum signal_type signal,
-	const struct encoder_init_data *init)
-{
-	BREAK_TO_DEBUGGER();
-	return NULL;
-}
-
 /*
  * @brief
  * Destroy current implementation.
@@ -405,15 +382,9 @@ static enum creation_result create_impl(
 	case ENCODER_ID_INTERNAL_KLDSCP_DVO1:
 		impl = create_dvo_mvpu_encoder_impl(signal, &init);
 	break;
-	case ENCODER_ID_EXTERNAL_NUTMEG:
-		impl = create_nutmeg_encoder_impl(signal, &init);
-	break;
 	case ENCODER_ID_EXTERNAL_TRAVIS:
 		impl = create_travis_encoder_impl(signal, &init);
 	break;
-	case ENCODER_ID_INTERNAL_WIRELESS:
-		impl = create_wireless_encoder_impl(signal, &init);
-	break;
 	default:
 		impl = NULL;
 		break;
diff --git a/drivers/gpu/drm/amd/dal/encoder/external_digital_encoder.c b/drivers/gpu/drm/amd/dal/encoder/external_digital_encoder.c
index 2b92b69..3bc2ce76 100644
--- a/drivers/gpu/drm/amd/dal/encoder/external_digital_encoder.c
+++ b/drivers/gpu/drm/amd/dal/encoder/external_digital_encoder.c
@@ -40,6 +40,11 @@
  */
 
 #include "external_digital_encoder.h"
+
+/*
+ * Post-requisites: headers required by this unit
+ */
+
 #include "hw_ctx_external_digital_encoder_travis.h"
 
 /*
@@ -149,7 +154,7 @@ static enum encoder_result create_hw_ctx(
 		enc->hw_ctx =
 			dal_hw_ctx_external_digital_encoder_travis_create(
 				init->dal_ctx);
-	break;
+		break;
 	default:
 		BREAK_TO_DEBUGGER();
 	}
diff --git a/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c b/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
index bd206fa..079b365 100644
--- a/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
+++ b/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
@@ -1655,40 +1655,9 @@ enum hwss_result dal_hw_sequencer_set_backlight_adjustment(
 		dal_encoder_set_lcd_backlight_level(
 				obj.downstream_encoder,
 				adjustment->ui_value);
-
-	return HWSS_RESULT_OK;
-}
-
-enum hwss_result dal_hw_sequencer_set_varibright_level_adjustment(
-	struct hw_sequencer *hws,
-	struct display_path *display_path,
-	struct hw_adjustment_value *adjustment)
-{
-	return HWSS_RESULT_OK;
-}
-
-enum hwss_result dal_hw_sequencer_set_varibright_adjustment(
-	struct hw_sequencer *hws,
-	struct display_path *display_path,
-	struct hw_adjustment_value *adjustment)
-{
 	return HWSS_RESULT_OK;
 }
 
-enum hwss_result dal_hw_sequencer_enable_smooth_brightness(
-	struct hw_sequencer *hws,
-	struct display_path *display_path)
-{
-	return HWSS_RESULT_ERROR;
-}
-
-enum hwss_result dal_hw_sequencer_disable_smooth_brightness(
-	struct hw_sequencer *hws,
-	struct display_path *display_path)
-{
-	return HWSS_RESULT_ERROR;
-}
-
 enum hwss_result dal_hw_sequencer_validate_link(
 	struct hw_sequencer *hws,
 	const struct validate_link_param *param)
@@ -2474,10 +2443,6 @@ static void program_adjustments(
 		hws,
 		path_mode->display_path,
 		backlight_adjustment);
-	dal_hw_sequencer_set_varibright_level_adjustment(
-		hws,
-		path_mode->display_path,
-		vb_level_adjustment);
 }
 
 static void program_encoder_and_audio(
@@ -2956,14 +2921,12 @@ void dal_hw_sequencer_psr_setup(
 	const struct hw_path_mode *path_mode,
 	const struct psr_caps *psr_caps)
 {
-	/* TODO Add DMCU */
 }
 
 void dal_hw_sequencer_psr_enable(
 	struct hw_sequencer *hws,
 	struct display_path *display_path)
 {
-	/* TODO Add DMCU */
 }
 
 /**
@@ -3060,7 +3023,6 @@ void dal_hw_sequencer_psr_disable(
 	struct hw_sequencer *hws,
 	struct display_path *display_path)
 {
-	/* TODO Add DMCU */
 }
 
 
diff --git a/drivers/gpu/drm/amd/dal/include/adjustment_types.h b/drivers/gpu/drm/amd/dal/include/adjustment_types.h
index 8c0dd9d..423fe21 100644
--- a/drivers/gpu/drm/amd/dal/include/adjustment_types.h
+++ b/drivers/gpu/drm/amd/dal/include/adjustment_types.h
@@ -98,8 +98,6 @@ enum adjustment_id {
 
 	/* Backlight Adjustment Group*/
 	ADJ_ID_BACKLIGHT,
-	ADJ_ID_VARIBRIGHT,
-	ADJ_ID_VARIBRIGHT_LEVEL,
 	ADJ_ID_BACKLIGHT_OPTIMIZATION,
 
 	/* flag the first and last*/
diff --git a/drivers/gpu/drm/amd/dal/include/display_service_interface.h b/drivers/gpu/drm/amd/dal/include/display_service_interface.h
index 1f37159..220812f 100644
--- a/drivers/gpu/drm/amd/dal/include/display_service_interface.h
+++ b/drivers/gpu/drm/amd/dal/include/display_service_interface.h
@@ -127,14 +127,6 @@ enum ds_return dal_display_service_get_backlight_effective_level(
 	uint32_t display_index,
 	uint32_t *level);
 
-enum ds_return dal_display_service_enable_smooth_brightness(
-	struct display_service *ds,
-	uint32_t display_index);
-
-enum ds_return dal_display_service_disable_smooth_brightness(
-	struct display_service *ds,
-	uint32_t display_index);
-
 enum ds_return dal_display_service_enable_hpd(
 	struct display_service *ds,
 	uint32_t display_index);
diff --git a/drivers/gpu/drm/amd/dal/include/grph_object_id.h b/drivers/gpu/drm/amd/dal/include/grph_object_id.h
index 2d4065d..869f904 100644
--- a/drivers/gpu/drm/amd/dal/include/grph_object_id.h
+++ b/drivers/gpu/drm/amd/dal/include/grph_object_id.h
@@ -136,7 +136,8 @@ enum encoder_id {
 	ENCODER_ID_INTERNAL_KLDSCP_DVO1,
 	ENCODER_ID_INTERNAL_KLDSCP_DAC1,
 	ENCODER_ID_INTERNAL_KLDSCP_DAC2,	/* Shared with CV/TV and CRT */
-	ENCODER_ID_EXTERNAL_SI178,	/* Eternal TMDS (dual link) */
+	/* External TMDS (dual link) */
+	ENCODER_ID_EXTERNAL_SI178,
 	ENCODER_ID_EXTERNAL_MVPU_FPGA,	/* MVPU FPGA chip */
 	ENCODER_ID_INTERNAL_DDI,
 	ENCODER_ID_EXTERNAL_VT1625,
diff --git a/drivers/gpu/drm/amd/dal/include/hw_adjustment_types.h b/drivers/gpu/drm/amd/dal/include/hw_adjustment_types.h
index 1664123..98502b4 100644
--- a/drivers/gpu/drm/amd/dal/include/hw_adjustment_types.h
+++ b/drivers/gpu/drm/amd/dal/include/hw_adjustment_types.h
@@ -18,8 +18,6 @@ enum hw_adjustment_id {
 	HW_ADJUSTMENT_ID_COMPOSITE_SYNC,
 	HW_ADJUSTMENT_ID_VIDEO_STANDARD,
 	HW_ADJUSTMENT_ID_BACKLIGHT,
-	HW_ADJUSTMENT_ID_VARIBRIGHT,
-	HW_ADJUSTMENT_ID_VARIBRIGHT_LEVEL,
 	HW_ADJUSTMENT_ID_BIT_DEPTH_REDUCTION,
 	HW_ADJUSTMENT_ID_REDUCED_BLANKING,
 	HW_ADJUSTMENT_ID_COHERENT,
diff --git a/drivers/gpu/drm/amd/dal/include/hw_sequencer_interface.h b/drivers/gpu/drm/amd/dal/include/hw_sequencer_interface.h
index 4a225e0..42dbd4b 100644
--- a/drivers/gpu/drm/amd/dal/include/hw_sequencer_interface.h
+++ b/drivers/gpu/drm/amd/dal/include/hw_sequencer_interface.h
@@ -215,24 +215,6 @@ enum hwss_result dal_hw_sequencer_set_backlight_adjustment(
 	struct display_path *display_path,
 	struct hw_adjustment_value *adjustment);
 
-enum hwss_result dal_hw_sequencer_set_varibright_level_adjustment(
-	struct hw_sequencer *hws,
-	struct display_path *display_path,
-	struct hw_adjustment_value *adjustment);
-
-enum hwss_result dal_hw_sequencer_set_varibright_adjustment(
-	struct hw_sequencer *hws,
-	struct display_path *display_path,
-	struct hw_adjustment_value *adjustment);
-
-enum hwss_result dal_hw_sequencer_enable_smooth_brightness(
-	struct hw_sequencer *hws,
-	struct display_path *display_path);
-
-enum hwss_result dal_hw_sequencer_disable_smooth_brightness(
-	struct hw_sequencer *hws,
-	struct display_path *display_path);
-
 void dal_hw_sequencer_disable_memory_requests(
 	struct hw_sequencer *hws,
 	const struct hw_path_mode *path_mode);
diff --git a/drivers/gpu/drm/amd/dal/topology/topology.c b/drivers/gpu/drm/amd/dal/topology/topology.c
index a2466709..c4eba4b 100644
--- a/drivers/gpu/drm/amd/dal/topology/topology.c
+++ b/drivers/gpu/drm/amd/dal/topology/topology.c
@@ -2087,7 +2087,7 @@ enum tm_result dal_tm_power_down_hw(struct topology_mgr *tm)
 	/*TODO: Power Down GLSyncConnector*/
 	TM_NOT_IMPLEMENTED();
 
-	/* TODO 2. PowerDown DMCU*/
+	/*2. TODO PowerDown DMCU*/
 
 	/* 3.0 If we are going to S4 or BACO,
 	 * then we only need to invalidate states
@@ -2194,12 +2194,12 @@ enum tm_result dal_tm_power_down_hw_active(struct topology_mgr *tm,
 /**
  * Powers down all HW blocks that compose display paths in the following
  * order (reverse order from PowerUp):
- *	2. Audios
- *	3. Connectors
- *	4. Routers
- *	5. Encoders
- *	6. Controllers
- *	7. Clock Sources
+ *	1. Audios
+ *	2. Connectors
+ *	3. Routers
+ *	4. Encoders
+ *	5. Controllers
+ *	6. Clock Sources
  *
  * \return	TM_RESULT_SUCCESS: no error
  *		TM_RESULT_FAILURE: error
-- 
1.9.1

