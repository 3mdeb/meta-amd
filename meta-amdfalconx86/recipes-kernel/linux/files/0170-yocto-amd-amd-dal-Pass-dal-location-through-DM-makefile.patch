From c8648cfe1f954e2c0e4098a85c0ac64507b40484 Mon Sep 17 00:00:00 2001
From: Jordan Lazare <Jordan.Lazare@amd.com>
Date: Mon, 22 Jun 2015 13:32:36 -0500
Subject: [PATCH 287/401] amd/dal: Pass dal location through DM makefile

Signed-off-by: Jordan Lazare <Jordan.Lazare@amd.com>
Signed-off-by: Sanjay R Mehta <sanju.mehta@amd.com>
---
 drivers/gpu/drm/amd/dal/Makefile | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/Makefile b/drivers/gpu/drm/amd/dal/Makefile
index 27174c2..05dacde 100644
--- a/drivers/gpu/drm/amd/dal/Makefile
+++ b/drivers/gpu/drm/amd/dal/Makefile
@@ -3,14 +3,7 @@
 # of AMDSOC/AMDGPU drm driver.
 # It provides the HW control for display related functionalities.
 
-# path relative to AMDSOC/AMDGPU
-ifneq ($(CONFIG_DRM_AMDSOC),)
-AMDDALPATH = ../amd/dal
-endif
-
-ifneq ($(CONFIG_DRM_AMDGPU),)
-AMDDALPATH = ../dal
-endif
+AMDDALPATH = $(RELATIVE_AMD_DAL_PATH)
 
 subdir-ccflags-y += -I$(AMDDALPATH)/ -I$(AMDDALPATH)/include -DDAL_CZ_BRINGUP
 
@@ -18,6 +11,6 @@ DAL_LIBS = adapter audio asic_capability basics bios connector controller dcs \
 	display_path display_service encoder gpio gpu hw_sequencer i2caux \
 	interface link_service mode_manager timing_service topology irq
 
-AMD_DAL = $(addsuffix /Makefile, $(addprefix drivers/gpu/drm/amd/dal/,$(DAL_LIBS)))
+AMD_DAL = $(addsuffix /Makefile, $(addprefix $(FULL_AMD_DAL_PATH)/,$(DAL_LIBS)))
 
 include $(AMD_DAL)
-- 
1.9.1

