From dcabed27e04869dfdd786de4dcdb829fbf47d20a Mon Sep 17 00:00:00 2001
From: Harry Wentland <harry.wentland@amd.com>
Date: Thu, 20 Oct 2016 21:31:38 -0400
Subject: [PATCH 1401/1722] drm/amd/dal: Move DDC reg def into hw_factory

Change-Id: I192c38b380809b2a3b1352cf6b00f682c784760a
Signed-off-by: Harry Wentland <harry.wentland@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/gpio/Makefile           |  6 +-
 .../gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c | 99 ----------------------
 .../gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.h | 33 --------
 .../drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c | 66 ++++++++++++++-
 .../gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c   | 98 ---------------------
 .../gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.h   | 32 -------
 .../drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c   | 64 +++++++++++++-
 drivers/gpu/drm/amd/dal/dc/gpio/ddc_regs.h         | 16 ++--
 drivers/gpu/drm/amd/dal/dc/gpio/hpd_regs.h         |  8 +-
 9 files changed, 139 insertions(+), 283 deletions(-)
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.h
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.h

diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
index b82acd0..692acb8 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
@@ -13,8 +13,8 @@ AMD_DAL_FILES += $(AMD_DAL_GPIO)
 # DCE 8x
 ###############################################################################
 # all DCE8.x are derived from DCE8.0
-GPIO_DCE80 = hw_translate_dce80.o hw_factory_dce80.o hw_ddc_dce80.o
-
+GPIO_DCE80 = hw_translate_dce80.o hw_factory_dce80.o
+	
 AMD_DAL_GPIO_DCE80 = $(addprefix $(AMDDALPATH)/dc/gpio/dce80/,$(GPIO_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_GPIO_DCE80)
@@ -22,7 +22,7 @@ AMD_DAL_FILES += $(AMD_DAL_GPIO_DCE80)
 ###############################################################################
 # DCE 11x
 ###############################################################################
-GPIO_DCE110 = hw_translate_dce110.o hw_factory_dce110.o hw_ddc_dce110.o
+GPIO_DCE110 = hw_translate_dce110.o hw_factory_dce110.o
 
 AMD_DAL_GPIO_DCE110 = $(addprefix $(AMDDALPATH)/dc/gpio/dce110/,$(GPIO_DCE110))
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
deleted file mode 100644
index 545d1d9..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
+++ /dev/null
@@ -1,99 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#include "dm_services.h"
-
-#include "include/gpio_types.h"
-#include "../hw_gpio.h"
-#include "../hw_ddc.h"
-
-#include "hw_ddc_dce110.h"
-
-#include "dce/dce_11_0_d.h"
-#include "dce/dce_11_0_sh_mask.h"
-
-#include "reg_helper.h"
-
-#include "../ddc_regs.h"
-
- /* set field name */
-#define SF(reg_name, field_name, post_fix)\
-	.field_name = reg_name ## __ ## field_name ## post_fix
-
-static const struct ddc_registers ddc_data_regs[] = {
-	ddc_data_regs(1),
-	ddc_data_regs(2),
-	ddc_data_regs(3),
-	ddc_data_regs(4),
-	ddc_data_regs(5),
-	ddc_data_regs(6),
-	ddc_vga_data_regs,
-	ddc_i2c_data_regs
-};
-
-static const struct ddc_registers ddc_clk_regs[] = {
-	ddc_clk_regs(1),
-	ddc_clk_regs(2),
-	ddc_clk_regs(3),
-	ddc_clk_regs(4),
-	ddc_clk_regs(5),
-	ddc_clk_regs(6),
-	ddc_vga_clk_regs,
-	ddc_i2c_clk_regs
-};
-
-static const struct ddc_sh_mask ddc_shift = {
-		DDC_MASK_SH_LIST(__SHIFT)
-};
-
-static const struct ddc_sh_mask ddc_mask = {
-		DDC_MASK_SH_LIST(_MASK)
-};
-
-void define_ddc_dce110_registers(
-		struct hw_gpio_pin *pin,
-		uint32_t en)
-{
-	struct hw_ddc *ddc = HW_DDC_FROM_BASE(pin);
-
-	switch (pin->id) {
-	case GPIO_ID_DDC_DATA:
-		ddc->regs = &ddc_data_regs[en];
-		ddc->base.regs = &ddc_data_regs[en].gpio;
-		break;
-	case GPIO_ID_DDC_CLOCK:
-		ddc->regs = &ddc_clk_regs[en];
-		ddc->base.regs = &ddc_clk_regs[en].gpio;
-		break;
-	default:
-		ASSERT_CRITICAL(false);
-		return;
-	}
-
-	ddc->shifts = &ddc_shift;
-	ddc->masks = &ddc_mask;
-
-}
-
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.h b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.h
deleted file mode 100644
index ecad81e..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.h
+++ /dev/null
@@ -1,33 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#ifndef __DAL_HW_DDC_DCE110_H__
-#define __DAL_HW_DDC_DCE110_H__
-
-void define_ddc_dce110_registers(
-		struct hw_gpio_pin *pin,
-		uint32_t en);
-
-#endif
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
index 3188570..3ab6010 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
@@ -33,13 +33,11 @@
 
 #include "hw_factory_dce110.h"
 
-#include "hw_ddc_dce110.h"
-
 #include "dce/dce_11_0_d.h"
 #include "dce/dce_11_0_sh_mask.h"
 
 /* set field name */
-#define SF(reg_name, field_name, post_fix)\
+#define SF_HPD(reg_name, field_name, post_fix)\
 	.field_name = reg_name ## __ ## field_name ## post_fix
 
 #include "reg_helper.h"
@@ -67,6 +65,66 @@ static const struct hpd_sh_mask hpd_mask = {
 		HPD_MASK_SH_LIST(_MASK)
 };
 
+#include "../ddc_regs.h"
+
+ /* set field name */
+#define SF_DDC(reg_name, field_name, post_fix)\
+	.field_name = reg_name ## __ ## field_name ## post_fix
+
+static const struct ddc_registers ddc_data_regs[] = {
+	ddc_data_regs(1),
+	ddc_data_regs(2),
+	ddc_data_regs(3),
+	ddc_data_regs(4),
+	ddc_data_regs(5),
+	ddc_data_regs(6),
+	ddc_vga_data_regs,
+	ddc_i2c_data_regs
+};
+
+static const struct ddc_registers ddc_clk_regs[] = {
+	ddc_clk_regs(1),
+	ddc_clk_regs(2),
+	ddc_clk_regs(3),
+	ddc_clk_regs(4),
+	ddc_clk_regs(5),
+	ddc_clk_regs(6),
+	ddc_vga_clk_regs,
+	ddc_i2c_clk_regs
+};
+
+static const struct ddc_sh_mask ddc_shift = {
+		DDC_MASK_SH_LIST(__SHIFT)
+};
+
+static const struct ddc_sh_mask ddc_mask = {
+		DDC_MASK_SH_LIST(_MASK)
+};
+
+static void define_ddc_registers(
+		struct hw_gpio_pin *pin,
+		uint32_t en)
+{
+	struct hw_ddc *ddc = HW_DDC_FROM_BASE(pin);
+
+	switch (pin->id) {
+	case GPIO_ID_DDC_DATA:
+		ddc->regs = &ddc_data_regs[en];
+		ddc->base.regs = &ddc_data_regs[en].gpio;
+		break;
+	case GPIO_ID_DDC_CLOCK:
+		ddc->regs = &ddc_clk_regs[en];
+		ddc->base.regs = &ddc_clk_regs[en].gpio;
+		break;
+	default:
+		ASSERT_CRITICAL(false);
+		return;
+	}
+
+	ddc->shifts = &ddc_shift;
+	ddc->masks = &ddc_mask;
+
+}
 
 static void define_hpd_registers(struct hw_gpio_pin *pin, uint32_t en)
 {
@@ -86,7 +144,7 @@ static const struct hw_factory_funcs funcs = {
 	.create_sync = NULL,
 	.create_gsl = NULL,
 	.define_hpd_registers = define_hpd_registers,
-	.define_ddc_registers = define_ddc_dce110_registers
+	.define_ddc_registers = define_ddc_registers
 };
 
 /*
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
deleted file mode 100644
index 04878ed..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
+++ /dev/null
@@ -1,98 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#include "dm_services.h"
-
-#include "include/gpio_types.h"
-#include "../hw_gpio.h"
-#include "../hw_ddc.h"
-
-#include "hw_ddc_dce80.h"
-
-#include "dce/dce_8_0_d.h"
-#include "dce/dce_8_0_sh_mask.h"
-
-#include "reg_helper.h"
-
-#include "../ddc_regs.h"
-
- /* set field name */
-#define SF(reg_name, field_name, post_fix)\
-	.field_name = reg_name ## __ ## field_name ## post_fix
-
-static const struct ddc_registers ddc_data_regs[] = {
-	ddc_data_regs(1),
-	ddc_data_regs(2),
-	ddc_data_regs(3),
-	ddc_data_regs(4),
-	ddc_data_regs(5),
-	ddc_data_regs(6),
-	ddc_vga_data_regs,
-	ddc_i2c_data_regs
-};
-
-static const struct ddc_registers ddc_clk_regs[] = {
-	ddc_clk_regs(1),
-	ddc_clk_regs(2),
-	ddc_clk_regs(3),
-	ddc_clk_regs(4),
-	ddc_clk_regs(5),
-	ddc_clk_regs(6),
-	ddc_vga_clk_regs,
-	ddc_i2c_clk_regs
-};
-
-static const struct ddc_sh_mask ddc_shift = {
-		DDC_MASK_SH_LIST(__SHIFT)
-};
-
-static const struct ddc_sh_mask ddc_mask = {
-		DDC_MASK_SH_LIST(_MASK)
-};
-
-void define_ddc_dce80_registers(
-		struct hw_gpio_pin *pin,
-		uint32_t en)
-{
-	struct hw_ddc *ddc = HW_DDC_FROM_BASE(pin);
-
-	switch (pin->id) {
-	case GPIO_ID_DDC_DATA:
-		ddc->regs = &ddc_data_regs[en];
-		ddc->base.regs = &ddc_data_regs[en].gpio;
-		break;
-	case GPIO_ID_DDC_CLOCK:
-		ddc->regs = &ddc_clk_regs[en];
-		ddc->base.regs = &ddc_clk_regs[en].gpio;
-		break;
-	default:
-		ASSERT_CRITICAL(false);
-		return;
-	}
-
-	ddc->shifts = &ddc_shift;
-	ddc->masks = &ddc_mask;
-
-}
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.h b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.h
deleted file mode 100644
index df3eee6..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.h
+++ /dev/null
@@ -1,32 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#ifndef __DAL_HW_DDC_DCE80_H__
-#define __DAL_HW_DDC_DCE80_H__
-
-void define_ddc_dce80_registers(
-		struct hw_gpio_pin *pin,
-		uint32_t en);
-#endif
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
index 3dd1bb5..7065ba0 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
@@ -31,7 +31,6 @@
 
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
-#include "hw_ddc_dce80.h"
 #include "../hw_hpd.h"
 
 #include "dce/dce_8_0_d.h"
@@ -73,6 +72,67 @@ static const struct hpd_sh_mask hpd_mask = {
 		HPD_MASK_SH_LIST_DCE8(_MASK)
 };
 
+#include "../ddc_regs.h"
+
+ /* set field name */
+#define SF_DDC(reg_name, field_name, post_fix)\
+	.field_name = reg_name ## __ ## field_name ## post_fix
+
+static const struct ddc_registers ddc_data_regs[] = {
+	ddc_data_regs(1),
+	ddc_data_regs(2),
+	ddc_data_regs(3),
+	ddc_data_regs(4),
+	ddc_data_regs(5),
+	ddc_data_regs(6),
+	ddc_vga_data_regs,
+	ddc_i2c_data_regs
+};
+
+static const struct ddc_registers ddc_clk_regs[] = {
+	ddc_clk_regs(1),
+	ddc_clk_regs(2),
+	ddc_clk_regs(3),
+	ddc_clk_regs(4),
+	ddc_clk_regs(5),
+	ddc_clk_regs(6),
+	ddc_vga_clk_regs,
+	ddc_i2c_clk_regs
+};
+
+static const struct ddc_sh_mask ddc_shift = {
+		DDC_MASK_SH_LIST(__SHIFT)
+};
+
+static const struct ddc_sh_mask ddc_mask = {
+		DDC_MASK_SH_LIST(_MASK)
+};
+
+static void define_ddc_registers(
+		struct hw_gpio_pin *pin,
+		uint32_t en)
+{
+	struct hw_ddc *ddc = HW_DDC_FROM_BASE(pin);
+
+	switch (pin->id) {
+	case GPIO_ID_DDC_DATA:
+		ddc->regs = &ddc_data_regs[en];
+		ddc->base.regs = &ddc_data_regs[en].gpio;
+		break;
+	case GPIO_ID_DDC_CLOCK:
+		ddc->regs = &ddc_clk_regs[en];
+		ddc->base.regs = &ddc_clk_regs[en].gpio;
+		break;
+	default:
+		ASSERT_CRITICAL(false);
+		return;
+	}
+
+	ddc->shifts = &ddc_shift;
+	ddc->masks = &ddc_mask;
+
+}
+
 static void define_hpd_registers(struct hw_gpio_pin *pin, uint32_t en)
 {
 	struct hw_hpd *hpd = HW_HPD_FROM_BASE(pin);
@@ -91,7 +151,7 @@ static const struct hw_factory_funcs funcs = {
 	.create_sync = NULL,
 	.create_gsl = NULL,
 	.define_hpd_registers = define_hpd_registers,
-	.define_ddc_registers = define_ddc_dce80_registers
+	.define_ddc_registers = define_ddc_registers
 };
 
 void dal_hw_factory_dce80_init(
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/ddc_regs.h b/drivers/gpu/drm/amd/dal/dc/gpio/ddc_regs.h
index 656e8f5..a3cd1c1 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/ddc_regs.h
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/ddc_regs.h
@@ -83,14 +83,14 @@
 	.ddc_setup = 0
 
 #define DDC_MASK_SH_LIST(mask_sh) \
-		SF(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_ENABLE, mask_sh),\
-		SF(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_EDID_DETECT_ENABLE, mask_sh),\
-		SF(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_EDID_DETECT_MODE, mask_sh),\
-		SF(DC_GPIO_DDC1_MASK, DC_GPIO_DDC1DATA_PD_EN, mask_sh),\
-		SF(DC_GPIO_DDC1_MASK, DC_GPIO_DDC1CLK_PD_EN, mask_sh),\
-		SF(DC_GPIO_DDC1_MASK, AUX_PAD1_MODE, mask_sh),\
-		SF(DC_GPIO_I2CPAD_MASK, DC_GPIO_SDA_PD_DIS, mask_sh),\
-		SF(DC_GPIO_I2CPAD_MASK, DC_GPIO_SCL_PD_DIS, mask_sh)
+		SF_DDC(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_ENABLE, mask_sh),\
+		SF_DDC(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_EDID_DETECT_ENABLE, mask_sh),\
+		SF_DDC(DC_I2C_DDC1_SETUP, DC_I2C_DDC1_EDID_DETECT_MODE, mask_sh),\
+		SF_DDC(DC_GPIO_DDC1_MASK, DC_GPIO_DDC1DATA_PD_EN, mask_sh),\
+		SF_DDC(DC_GPIO_DDC1_MASK, DC_GPIO_DDC1CLK_PD_EN, mask_sh),\
+		SF_DDC(DC_GPIO_DDC1_MASK, AUX_PAD1_MODE, mask_sh),\
+		SF_DDC(DC_GPIO_I2CPAD_MASK, DC_GPIO_SDA_PD_DIS, mask_sh),\
+		SF_DDC(DC_GPIO_I2CPAD_MASK, DC_GPIO_SCL_PD_DIS, mask_sh)
 
 
 struct ddc_registers {
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hpd_regs.h b/drivers/gpu/drm/amd/dal/dc/gpio/hpd_regs.h
index 89e83ab..b5f9ed4 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hpd_regs.h
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hpd_regs.h
@@ -55,10 +55,10 @@
 	.toggle_filt_cntl = mmHPD ## id ## _DC_HPD_TOGGLE_FILT_CNTL
 
  #define HPD_MASK_SH_LIST(mask_sh) \
-		SF(DC_HPD_INT_STATUS, DC_HPD_SENSE_DELAYED, mask_sh),\
-		SF(DC_HPD_INT_STATUS, DC_HPD_SENSE, mask_sh),\
-		SF(DC_HPD_TOGGLE_FILT_CNTL, DC_HPD_CONNECT_INT_DELAY, mask_sh),\
-		SF(DC_HPD_TOGGLE_FILT_CNTL, DC_HPD_DISCONNECT_INT_DELAY, mask_sh)
+		SF_HPD(DC_HPD_INT_STATUS, DC_HPD_SENSE_DELAYED, mask_sh),\
+		SF_HPD(DC_HPD_INT_STATUS, DC_HPD_SENSE, mask_sh),\
+		SF_HPD(DC_HPD_TOGGLE_FILT_CNTL, DC_HPD_CONNECT_INT_DELAY, mask_sh),\
+		SF_HPD(DC_HPD_TOGGLE_FILT_CNTL, DC_HPD_DISCONNECT_INT_DELAY, mask_sh)
 
 struct hpd_registers {
 	struct gpio_registers gpio;
-- 
2.7.4

