From d6342a29f02dbe1c0b5a60fbe639871c72c5a261 Mon Sep 17 00:00:00 2001
From: Jordan Lazare <Jordan.Lazare@amd.com>
Date: Tue, 5 Jul 2016 15:44:15 -0400
Subject: [PATCH 0601/1722] drm/amd/dal: fix frame_random dithering programming

Change-Id: Idf91e6e7c6199bb4537a79c8a88c11392a955a51
Signed-off-by: Jordan Lazare <Jordan.Lazare@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/dce110/dce110_opp_formatter.c | 2 +-
 drivers/gpu/drm/amd/dal/dc/dce80/dce80_opp_formatter.c   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_opp_formatter.c b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_opp_formatter.c
index 0382f7c..eac2077 100644
--- a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_opp_formatter.c
+++ b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_opp_formatter.c
@@ -210,7 +210,7 @@ static void set_spatial_dither(
 	set_reg_field_value(depth_cntl_value,
 		params->flags.FRAME_RANDOM,
 		FMT_BIT_DEPTH_CONTROL,
-		FMT_RGB_RANDOM_ENABLE);
+		FMT_FRAME_RANDOM_ENABLE);
 
 	/*Set RGB data dithered with x^28+x^3+1*/
 	set_reg_field_value(depth_cntl_value,
diff --git a/drivers/gpu/drm/amd/dal/dc/dce80/dce80_opp_formatter.c b/drivers/gpu/drm/amd/dal/dc/dce80/dce80_opp_formatter.c
index 5df1749..433296a 100644
--- a/drivers/gpu/drm/amd/dal/dc/dce80/dce80_opp_formatter.c
+++ b/drivers/gpu/drm/amd/dal/dc/dce80/dce80_opp_formatter.c
@@ -178,7 +178,7 @@ static void set_spatial_dither(
 	set_reg_field_value(depth_cntl_value,
 		params->flags.FRAME_RANDOM,
 		FMT_BIT_DEPTH_CONTROL,
-		FMT_RGB_RANDOM_ENABLE);
+		FMT_FRAME_RANDOM_ENABLE);
 
 	/*Set RGB data dithered with x^28+x^3+1*/
 	set_reg_field_value(depth_cntl_value,
-- 
2.7.4

