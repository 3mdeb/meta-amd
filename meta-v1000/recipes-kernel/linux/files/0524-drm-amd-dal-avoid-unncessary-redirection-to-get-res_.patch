From b269f812899714987a671dfaa553a82f0bb1f88d Mon Sep 17 00:00:00 2001
From: Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Date: Thu, 2 Jun 2016 16:27:27 -0400
Subject: [PATCH 0524/1722] drm/amd/dal: avoid unncessary redirection to get
 res_pool

Signed-off-by: Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/core/dc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc.c b/drivers/gpu/drm/amd/dal/dc/core/dc.c
index dec1b3b..45e170bb 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc.c
@@ -1220,7 +1220,7 @@ void dc_flip_surface_addrs(
 {
 	struct core_dc *core_dc = DC_TO_CORE(dc);
 	int i, j;
-	int pipe_count = core_dc->current_context->res_ctx.pool.pipe_count;
+        int pipe_count = core_dc->res_pool->pipe_count;
 
 	for (i = 0; i < count; i++)
 		for (j = 0; j < pipe_count; j++) {
-- 
2.7.4

