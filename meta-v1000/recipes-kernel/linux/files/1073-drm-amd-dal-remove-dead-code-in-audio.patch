From 6cfef3531be0445a87aefd527cec817ad6a2b46d Mon Sep 17 00:00:00 2001
From: Tony Cheng <tony.cheng@amd.com>
Date: Mon, 12 Sep 2016 15:47:18 -0400
Subject: [PATCH 1073/1722] drm/amd/dal: remove dead code in audio

- DAL3 does not support channel splitting, low ROI feature

Change-Id: Ica738a2c9d17e120ac8fc753513621af11ed1521
Signed-off-by: Tony Cheng <tony.cheng@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/audio/audio.h           | 21 ----------
 drivers/gpu/drm/amd/dal/dc/audio/audio_base.c      | 36 ----------------
 .../gpu/drm/amd/dal/dc/audio/dce110/audio_dce110.c | 49 ----------------------
 .../gpu/drm/amd/dal/dc/audio/dce80/audio_dce80.c   | 49 ----------------------
 4 files changed, 155 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/audio/audio.h b/drivers/gpu/drm/amd/dal/dc/audio/audio.h
index bf09a13..a821afc 100644
--- a/drivers/gpu/drm/amd/dal/dc/audio/audio.h
+++ b/drivers/gpu/drm/amd/dal/dc/audio/audio.h
@@ -93,25 +93,6 @@ struct audio_funcs {
 	enum audio_result (*initialize)(
 		struct audio *audio);
 
-	/* enable channel splitting mapping */
-	void (*enable_channel_splitting_mapping)(
-		struct audio *audio,
-		enum engine_id engine_id,
-		enum signal_type signal,
-		const struct audio_channel_associate_info *audio_mapping,
-		bool enable);
-
-	/* get current multi channel split. */
-	enum audio_result (*get_channel_splitting_mapping)(
-		struct audio *audio,
-		enum engine_id engine_id,
-		struct audio_channel_associate_info *audio_mapping);
-
-	/* set payload value for the unsolicited response */
-	void (*set_unsolicited_response_payload)(
-		struct audio *audio,
-		enum audio_payload payload);
-
 	/* Update audio wall clock source */
 	void (*setup_audio_wall_dto)(
 		struct audio *audio,
@@ -127,8 +108,6 @@ struct audio_funcs {
 	 *check_audio_bandwidth
 	 *write_reg
 	 *read_reg
-	 *enable_gtc_embedding_with_group
-	 *disable_gtc_embedding
 	 *register_interrupt
 	 *unregister_interrupt
 	 *process_interrupt
diff --git a/drivers/gpu/drm/amd/dal/dc/audio/audio_base.c b/drivers/gpu/drm/amd/dal/dc/audio/audio_base.c
index c197966..e61076a 100644
--- a/drivers/gpu/drm/amd/dal/dc/audio/audio_base.c
+++ b/drivers/gpu/drm/amd/dal/dc/audio/audio_base.c
@@ -174,12 +174,6 @@ static const struct audio_funcs audio_funcs = {
 	.unmute = unmute,
 	.mute = mute,
 	.initialize = initialize,
-	.enable_channel_splitting_mapping =
-		enable_channel_splitting_mapping,
-	.get_channel_splitting_mapping =
-		get_channel_splitting_mapping,
-	.set_unsolicited_response_payload =
-		set_unsolicited_response_payload,
 	.setup_audio_wall_dto = setup_audio_wall_dto,
 	.get_supported_features = get_supported_features,
 };
@@ -430,36 +424,6 @@ enum audio_result dal_audio_mute(
 	return audio->funcs->mute(audio, engine_id, signal);
 }
 
-/* Enable multi channel split */
-void dal_audio_enable_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	enum signal_type signal,
-	const struct audio_channel_associate_info *audio_mapping,
-	bool enable)
-{
-	audio->funcs->enable_channel_splitting_mapping(
-		audio, engine_id, signal, audio_mapping, enable);
-}
-
-/* get current multi channel split. */
-enum audio_result dal_audio_get_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	struct audio_channel_associate_info *audio_mapping)
-{
-	return audio->funcs->get_channel_splitting_mapping(
-		audio, engine_id, audio_mapping);
-}
-
-/* set payload value for the unsolicited response */
-void dal_audio_set_unsolicited_response_payload(
-	struct audio *audio,
-	enum audio_payload payload)
-{
-	audio->funcs->set_unsolicited_response_payload(audio, payload);
-}
-
 /* update audio wall clock source */
 void dal_audio_setup_audio_wall_dto(
 	struct audio *audio,
diff --git a/drivers/gpu/drm/amd/dal/dc/audio/dce110/audio_dce110.c b/drivers/gpu/drm/amd/dal/dc/audio/dce110/audio_dce110.c
index 9f311b2..0dfbd8b 100644
--- a/drivers/gpu/drm/amd/dal/dc/audio/dce110/audio_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/audio/dce110/audio_dce110.c
@@ -303,49 +303,6 @@ static enum audio_result initialize(
 	return AUDIO_RESULT_OK;
 }
 
-/* enable multi channel split */
-static void enable_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	enum signal_type signal,
-	const struct audio_channel_associate_info *audio_mapping,
-	bool enable)
-{
-	audio->hw_ctx->funcs->setup_channel_splitting_mapping(
-		audio->hw_ctx,
-		engine_id,
-		signal,
-		audio_mapping, enable);
-}
-
-/* get current multi channel split. */
-static enum audio_result get_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	struct audio_channel_associate_info *audio_mapping)
-{
-	if (audio->hw_ctx->funcs->get_channel_splitting_mapping(
-		audio->hw_ctx, engine_id, audio_mapping)) {
-		return AUDIO_RESULT_OK;
-	} else {
-		return AUDIO_RESULT_ERROR;
-	}
-}
-
-/**
-* set_unsolicited_response_payload
-*
-* @brief
-*  Set payload value for the unsolicited response
-*/
-static void set_unsolicited_response_payload(
-	struct audio *audio,
-	enum audio_payload payload)
-{
-	audio->hw_ctx->funcs->set_unsolicited_response_payload(
-			audio->hw_ctx, payload);
-}
-
 /**
 * setup_audio_wall_dto
 *
@@ -393,12 +350,6 @@ static const struct audio_funcs funcs = {
 	.unmute = unmute,
 	.mute = mute,
 	.initialize = initialize,
-	.enable_channel_splitting_mapping =
-		enable_channel_splitting_mapping,
-	.get_channel_splitting_mapping =
-		get_channel_splitting_mapping,
-	.set_unsolicited_response_payload =
-		set_unsolicited_response_payload,
 	.setup_audio_wall_dto = setup_audio_wall_dto,
 	.get_supported_features = get_supported_features,
 };
diff --git a/drivers/gpu/drm/amd/dal/dc/audio/dce80/audio_dce80.c b/drivers/gpu/drm/amd/dal/dc/audio/dce80/audio_dce80.c
index 2ffea23..9fb9c33 100644
--- a/drivers/gpu/drm/amd/dal/dc/audio/dce80/audio_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/audio/dce80/audio_dce80.c
@@ -282,49 +282,6 @@ static enum audio_result initialize(
 	return AUDIO_RESULT_OK;
 }
 
-/* enable multi channel split */
-static void enable_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	enum signal_type signal,
-	const struct audio_channel_associate_info *audio_mapping,
-	bool enable)
-{
-	audio->hw_ctx->funcs->setup_channel_splitting_mapping(
-		audio->hw_ctx,
-		engine_id,
-		signal,
-		audio_mapping, enable);
-}
-
-/* get current multi channel split. */
-static enum audio_result get_channel_splitting_mapping(
-	struct audio *audio,
-	enum engine_id engine_id,
-	struct audio_channel_associate_info *audio_mapping)
-{
-	if (audio->hw_ctx->funcs->get_channel_splitting_mapping(
-		audio->hw_ctx, engine_id, audio_mapping)) {
-		return AUDIO_RESULT_OK;
-	} else {
-		return AUDIO_RESULT_ERROR;
-	}
-}
-
-/**
-* SetUnsolicitedResponsePayload
-*
-* @brief
-*  Set payload value for the unsolicited response
-*/
-static void set_unsolicited_response_payload(
-	struct audio *audio,
-	enum audio_payload payload)
-{
-	audio->hw_ctx->funcs->set_unsolicited_response_payload(
-			audio->hw_ctx, payload);
-}
-
 /**
 * SetupAudioDTO
 *
@@ -382,12 +339,6 @@ static const struct audio_funcs funcs = {
 	.unmute = unmute,
 	.mute = mute,
 	.initialize = initialize,
-	.enable_channel_splitting_mapping =
-		enable_channel_splitting_mapping,
-	.get_channel_splitting_mapping =
-		get_channel_splitting_mapping,
-	.set_unsolicited_response_payload =
-		set_unsolicited_response_payload,
 	.setup_audio_wall_dto = setup_audio_wall_dto,
 	.get_supported_features = get_supported_features,
 };
-- 
2.7.4

