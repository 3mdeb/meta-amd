From 308ba656ece1afcafeb5c729ec77de629948d451 Mon Sep 17 00:00:00 2001
From: Zeyu Fan <Zeyu.Fan@amd.com>
Date: Wed, 31 Aug 2016 14:16:29 -0400
Subject: [PATCH 0969/1722] drm/amd/dal: Add new get_smu_clock_info to bios
 interface

Change-Id: I24301fda68e7d150a951eda990aa349ede6b450f
Signed-off-by: Zeyu Fan <Zeyu.Fan@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 .../gpu/drm/amd/dal/dc/bios/dce112/command_table_helper_dce112.c    | 6 ++++--
 drivers/gpu/drm/amd/dal/dc/dc_bios_types.h                          | 2 ++
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/bios/dce112/command_table_helper_dce112.c b/drivers/gpu/drm/amd/dal/dc/bios/dce112/command_table_helper_dce112.c
index 32ec228..41703e0 100644
--- a/drivers/gpu/drm/amd/dal/dc/bios/dce112/command_table_helper_dce112.c
+++ b/drivers/gpu/drm/amd/dal/dc/bios/dce112/command_table_helper_dce112.c
@@ -331,7 +331,9 @@ static uint8_t disp_power_gating_action_to_atom(
 	return atom_pipe_action;
 }
 
-bool dc_clock_type_to_atom(enum bp_dce_clock_type id, uint32_t *atom_clock_type)
+static bool dc_clock_type_to_atom(
+		enum bp_dce_clock_type id,
+		uint32_t *atom_clock_type)
 {
 	bool retCode = true;
 
@@ -354,7 +356,7 @@ bool dc_clock_type_to_atom(enum bp_dce_clock_type id, uint32_t *atom_clock_type)
 	return retCode;
 }
 
-uint8_t transmitter_color_depth_to_atom(enum transmitter_color_depth id)
+static uint8_t transmitter_color_depth_to_atom(enum transmitter_color_depth id)
 {
 	uint8_t atomColorDepth = 0;
 
diff --git a/drivers/gpu/drm/amd/dal/dc/dc_bios_types.h b/drivers/gpu/drm/amd/dal/dc/dc_bios_types.h
index 3022b5a..3d2efa8 100644
--- a/drivers/gpu/drm/amd/dal/dc/dc_bios_types.h
+++ b/drivers/gpu/drm/amd/dal/dc/dc_bios_types.h
@@ -171,6 +171,8 @@ struct dc_vbios_funcs {
 	enum bp_result (*set_dce_clock)(
 		struct dc_bios *bios,
 		struct bp_set_dce_clock_parameters *bp_params);
+	unsigned int (*get_smu_clock_info)(
+		struct dc_bios *bios);
 	enum bp_result (*enable_spread_spectrum_on_ppll)(
 		struct dc_bios *bios,
 		struct bp_spread_spectrum_parameters *bp_params,
-- 
2.7.4

