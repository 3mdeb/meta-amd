From 26cfa480e99fe1268f71d1b351a8774ce83c277f Mon Sep 17 00:00:00 2001
From: Slava Grigorev <slava.grigorev@amd.com>
Date: Wed, 9 Dec 2015 22:03:45 -0500
Subject: [PATCH 0898/1050] drm/amdgpu: fixed 32-bit kernel build

Change-Id: I37cbf08023c79d95e1b9244c893341fa634f3edf
Signed-off-by: Slava Grigorev <slava.grigorev@amd.com>
---
 drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c
index 272cc89..a341206 100644
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_cs.c
@@ -1092,7 +1092,7 @@ int amdgpu_cs_wait_fences_ioctl(struct drm_device *dev, void *data,
 	if (fences == NULL)
 		return -ENOMEM;
 
-	fences_user = (void __user *)wait->in.fences;
+	fences_user = (void __user *)(unsigned long)(wait->in.fences);
 	if (copy_from_user(fences, fences_user,
 		sizeof(struct drm_amdgpu_fence) * fence_count)) {
 		r = -EFAULT;
-- 
1.9.1

