From 3fc53ec287e2a75b4dc7d20edc0d1fc76dbba25f Mon Sep 17 00:00:00 2001
From: Wenjing Liu <Wenjing.Liu@amd.com>
Date: Thu, 11 Aug 2016 14:43:34 -0400
Subject: [PATCH 0747/1722] drm/amd/dal: Use h/v_addressable for h/v_active

Signed-off-by: Wenjing Liu <Wenjing.Liu@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/core/dc_resource.c           | 6 ++----
 drivers/gpu/drm/amd/dal/dc/dce110/dce110_hw_sequencer.c | 1 -
 2 files changed, 2 insertions(+), 5 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c b/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
index 67d4b6b..b0ef24d 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
@@ -465,10 +465,8 @@ bool resource_build_scaling_params(
 	 */
 	pipe_ctx->scl_data.lb_bpp = LB_PIXEL_DEPTH_30BPP;
 
-	pipe_ctx->scl_data.h_active = timing->h_addressable
-			+ timing->h_border_left + timing->h_border_right;
-	pipe_ctx->scl_data.v_active = timing->v_addressable
-			+ timing->v_border_top + timing->v_border_bottom;
+	pipe_ctx->scl_data.h_active = timing->h_addressable;
+	pipe_ctx->scl_data.v_active = timing->v_addressable;
 
 	/* Taps calculations */
 	res = pipe_ctx->xfm->funcs->transform_get_optimal_number_of_taps(
diff --git a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_hw_sequencer.c b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_hw_sequencer.c
index 25d1149e..21d6437 100644
--- a/drivers/gpu/drm/amd/dal/dc/dce110/dce110_hw_sequencer.c
+++ b/drivers/gpu/drm/amd/dal/dc/dce110/dce110_hw_sequencer.c
@@ -1619,7 +1619,6 @@ static void set_plane_config(
 
 	pipe_ctx->xfm->funcs->transform_set_gamut_remap(pipe_ctx->xfm, &adjust);
 
-
 	program_scaler(dc, pipe_ctx);
 
 	program_blender_if_needed(dc, pipe_ctx);
-- 
2.7.4

