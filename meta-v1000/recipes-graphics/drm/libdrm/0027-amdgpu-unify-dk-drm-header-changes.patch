From 23cd2e251cbf1f59ab0597a83bbf16eda2ff80c2 Mon Sep 17 00:00:00 2001
From: Qiang Yu <Qiang.Yu@amd.com>
Date: Tue, 18 Apr 2017 09:50:23 +0800
Subject: [PATCH 27/38] amdgpu: unify dk drm header changes

This is needed by close source components only (OGL).

Change-Id: I069da74ed41c40561cd95ef28bb8810fe4d64353
Signed-off-by: Qiang Yu <Qiang.Yu@amd.com>
Reviewed-by: Junwei Zhang <Jerry.Zhang@amd.com>
---
 amdgpu/amdgpu.h | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

diff --git a/amdgpu/amdgpu.h b/amdgpu/amdgpu.h
index 4be7fbc..e31c79f 100644
--- a/amdgpu/amdgpu.h
+++ b/amdgpu/amdgpu.h
@@ -187,11 +187,18 @@ struct amdgpu_bo_metadata {
 	/** Special flag associated with surface */
 	uint64_t flags;
 
-	/**
-	 * ASIC-specific tiling information (also used by DCE).
-	 * The encoding is defined by the AMDGPU_TILING_* definitions.
-	 */
-	uint64_t tiling_info;
+	union {
+		/**
+		 * ASIC-specific tiling information (also used by DCE).
+		 * The encoding is defined by the AMDGPU_TILING_* definitions.
+		 */
+		uint64_t tiling_info;
+		/**
+		 * ASIC-specific swizzle information.
+		 * The encoding is defined by the AMDGPU_SWIZZLE_* definitions.
+		 */
+		uint64_t swizzle_info;
+	};
 
 	/** Size of metadata associated with the buffer, in bytes. */
 	uint32_t size_metadata;
-- 
2.7.4

