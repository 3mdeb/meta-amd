From b258eb14be5dbce3ba8e4d7365fecc1cf7a409d5 Mon Sep 17 00:00:00 2001
From: Eric Yang <eric.yang2@amd.com>
Date: Mon, 6 Jun 2016 14:31:41 -0400
Subject: [PATCH 0534/1722] drm/amd/dal: rename primary and secondary pipe to
 top and bottom

Signed-off-by: Eric Yang <eric.yang2@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/core/dc.c          |  2 +-
 drivers/gpu/drm/amd/dal/dc/core/dc_resource.c | 10 +++++-----
 drivers/gpu/drm/amd/dal/dc/inc/core_types.h   |  4 ++--
 3 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc.c b/drivers/gpu/drm/amd/dal/dc/core/dc.c
index 8d55e1a..8b51afa 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc.c
@@ -614,7 +614,7 @@ static void target_disable_memory_requests(struct dc_target *dc_target,
 		for (j = 0; j < res_ctx->pool.pipe_count; j++) {
 			struct timing_generator *tg = res_ctx->pipe_ctx[j].tg;
 
-			if (res_ctx->pipe_ctx[j].primary_pipe != NULL ||
+                        if (res_ctx->pipe_ctx[j].top_pipe != NULL ||
 				res_ctx->pipe_ctx[j].stream !=
 				DC_STREAM_TO_CORE(target->public.streams[i]))
 				continue;
diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c b/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
index 4249489..d825b83 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc_resource.c
@@ -525,7 +525,7 @@ bool resource_attach_surfaces_to_context(
 			struct core_surface *surface = NULL;
 
 			/* Skip surface assignment for child pipes */
-			if (context->res_ctx.pipe_ctx[j].primary_pipe != NULL)
+			if (context->res_ctx.pipe_ctx[j].top_pipe != NULL)
 				continue;
 
 			if (surface_count)
@@ -1356,11 +1356,11 @@ void resource_validate_ctx_copy_construct(
 	for (i = 0; i < dst_ctx->res_ctx.pool.pipe_count; i++) {
 		struct pipe_ctx *cur_pipe = &dst_ctx->res_ctx.pipe_ctx[i];
 
-		if (cur_pipe->primary_pipe)
-			cur_pipe->primary_pipe =  &dst_ctx->res_ctx.pipe_ctx[cur_pipe->primary_pipe->pipe_idx];
+                if (cur_pipe->top_pipe)
+                       cur_pipe->top_pipe =  &dst_ctx->res_ctx.pipe_ctx[cur_pipe->top_pipe->pipe_idx];
 
-		if (cur_pipe->secondary_pipe)
-			cur_pipe->secondary_pipe = &dst_ctx->res_ctx.pipe_ctx[cur_pipe->secondary_pipe->pipe_idx];
+                if (cur_pipe->bottom_pipe)
+                        cur_pipe->bottom_pipe = &dst_ctx->res_ctx.pipe_ctx[cur_pipe->bottom_pipe->pipe_idx];
 
 	}
 
diff --git a/drivers/gpu/drm/amd/dal/dc/inc/core_types.h b/drivers/gpu/drm/amd/dal/dc/inc/core_types.h
index c82f60c..830b56e2 100644
--- a/drivers/gpu/drm/amd/dal/dc/inc/core_types.h
+++ b/drivers/gpu/drm/amd/dal/dc/inc/core_types.h
@@ -298,8 +298,8 @@ struct pipe_ctx {
 
 	uint8_t pipe_idx;
 
-	struct pipe_ctx *primary_pipe;
-	struct pipe_ctx *secondary_pipe;
+	struct pipe_ctx *top_pipe;
+	struct pipe_ctx *bottom_pipe;
 };
 
 struct resource_context {
-- 
2.7.4

