From 6376ba31c3544edb49cc284f52008f761f14c872 Mon Sep 17 00:00:00 2001
From: Harry Wentland <harry.wentland@amd.com>
Date: Tue, 18 Oct 2016 14:44:48 -0400
Subject: [PATCH 1349/1722] drm/amd/dal: Remove old configs from Kconfig

Change-Id: Ie39c0fb9fc1fe90c29380faa3510e31a58c5e661
Signed-off-by: Harry Wentland <harry.wentland@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 drivers/gpu/drm/amd/dal/Kconfig                    | 46 ----------------------
 drivers/gpu/drm/amd/dal/dc/Makefile                | 11 ------
 .../gpu/drm/amd/dal/dc/asic_capability/Makefile    |  9 +----
 drivers/gpu/drm/amd/dal/dc/bios/Makefile           | 18 ---------
 drivers/gpu/drm/amd/dal/dc/gpio/Makefile           |  4 --
 drivers/gpu/drm/amd/dal/dc/gpu/Makefile            |  7 ----
 drivers/gpu/drm/amd/dal/dc/i2caux/Makefile         |  8 ----
 drivers/gpu/drm/amd/dal/dc/irq/Makefile            |  4 --
 8 files changed, 1 insertion(+), 106 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/Kconfig b/drivers/gpu/drm/amd/dal/Kconfig
index 939d5c6..e544423 100644
--- a/drivers/gpu/drm/amd/dal/Kconfig
+++ b/drivers/gpu/drm/amd/dal/Kconfig
@@ -10,52 +10,6 @@ config DRM_AMD_DAL
           Will be deprecated when the DAL component becomes stable and
           AMDSOC will fully switch to it.
 
-config DRM_AMD_DAL_VBIOS_PRESENT
-        bool "Video Bios available on board"
-        depends on DRM_AMD_DAL
-        help
-         This option is needed to allow a full range of feature
-	 support when working on
-	 x86 platforms and there is a VBIOS
-	 present in the system
-
-config DRM_AMD_DAL_DCE8_0
-        bool "CI family"
-        depends on DRM_AMD_DAL
-        help
-         Choose this option
-	 if you want to have
-	 CI family
-	 for display engine.
-
-config DRM_AMD_DAL_DCE10_0
-        bool "VI family"
-        depends on DRM_AMD_DAL
-        help
-         Choose this option
-	 if you want to have
-	 VI family for display
-	 engine.
-
-config DRM_AMD_DAL_DCE11_0
-        bool "Carrizo family"
-        depends on DRM_AMD_DAL
-        help
-         Choose this option
-	 if you want to have
-	 CZ family
-	 for display engine
-
-config DRM_AMD_DAL_DCE11_2
-        bool "Polaris11 family"
-        depends on DRM_AMD_DAL
-	select DRM_AMD_DAL_DCE11_0
-        help
-         Choose this option
-	 if you want to have
-	 BF family
-	 for display engine.
-
 config DEBUG_KERNEL_DAL
         bool "Enable kgdb break in DAL"
         depends on DRM_AMD_DAL
diff --git a/drivers/gpu/drm/amd/dal/dc/Makefile b/drivers/gpu/drm/amd/dal/dc/Makefile
index d63fcd4..f1a6032 100644
--- a/drivers/gpu/drm/amd/dal/dc/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/Makefile
@@ -5,21 +5,10 @@
 DC_LIBS = adapter asic_capability basics bios calcs dce \
 gpio gpu i2caux irq virtual
 
-ifdef CONFIG_DRM_AMD_DAL_DCE11_2
 DC_LIBS += dce112
-endif
-
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 DC_LIBS += dce110
-endif
-
-ifdef CONFIG_DRM_AMD_DAL_DCE10_0
 DC_LIBS += dce100
-endif
-
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 DC_LIBS += dce80
-endif
 
 AMD_DC = $(addsuffix /Makefile, $(addprefix $(FULL_AMD_DAL_PATH)/dc/,$(DC_LIBS)))
 
diff --git a/drivers/gpu/drm/amd/dal/dc/asic_capability/Makefile b/drivers/gpu/drm/amd/dal/dc/asic_capability/Makefile
index e80de2a..01ba25d 100644
--- a/drivers/gpu/drm/amd/dal/dc/asic_capability/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/asic_capability/Makefile
@@ -12,46 +12,39 @@ AMD_DAL_FILES += $(AMD_DAL_ASIC_CAPABILITY)
 ###############################################################################
 # DCE 8x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 ASIC_CAPABILITY_DCE80 = hawaii_asic_capability.o
 
 AMD_DAL_ASIC_CAPABILITY_DCE80 = \
 	$(addprefix $(AMDDALPATH)/dc/asic_capability/,$(ASIC_CAPABILITY_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_ASIC_CAPABILITY_DCE80)
-endif
 
 
 ###############################################################################
 # DCE 10x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE10_0
 ASIC_CAPABILITY_DCE10 = tonga_asic_capability.o
 
 AMD_DAL_ASIC_CAPABILITY_DCE10 = \
 	$(addprefix $(AMDDALPATH)/dc/asic_capability/,$(ASIC_CAPABILITY_DCE10))
 
 AMD_DAL_FILES += $(AMD_DAL_ASIC_CAPABILITY_DCE10)
-endif
 
 
 ###############################################################################
 # DCE 11x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 ASIC_CAPABILITY_DCE11 = carrizo_asic_capability.o
 
 AMD_DAL_ASIC_CAPABILITY_DCE11 = \
 	$(addprefix $(AMDDALPATH)/dc/asic_capability/,$(ASIC_CAPABILITY_DCE11))
 
 AMD_DAL_FILES += $(AMD_DAL_ASIC_CAPABILITY_DCE11)
-endif
 
-ifdef CONFIG_DRM_AMD_DAL_DCE11_2
+
 ASIC_CAPABILITY_DCE112 = polaris10_asic_capability.o
 
 AMD_DAL_ASIC_CAPABILITY_DCE112 = \
 	$(addprefix $(AMDDALPATH)/dc/asic_capability/,$(ASIC_CAPABILITY_DCE112))
 
 AMD_DAL_FILES += $(AMD_DAL_ASIC_CAPABILITY_DCE112)
-endif
diff --git a/drivers/gpu/drm/amd/dal/dc/bios/Makefile b/drivers/gpu/drm/amd/dal/dc/bios/Makefile
index 691f970..328215a 100644
--- a/drivers/gpu/drm/amd/dal/dc/bios/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/bios/Makefile
@@ -8,41 +8,23 @@ AMD_DAL_BIOS = $(addprefix $(AMDDALPATH)/dc/bios/,$(BIOS))
 
 AMD_DAL_FILES += $(AMD_DAL_BIOS)
 
-ifndef CONFIG_DRM_AMD_DAL_VBIOS_PRESENT
-AMD_DAL_FILES := $(filter-out $(AMDDALPATH)/dc/bios/bios_parser_helper.o,$(AMD_DAL_FILES))
-endif
-
 ###############################################################################
 # DCE 8x
 ###############################################################################
 # All DCE8.x are derived from DCE8.0, so 8.0 MUST be defined if ANY of
 # DCE8.x is compiled.
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
-
-ifdef CONFIG_DRM_AMD_DAL_VBIOS_PRESENT
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce80/bios_parser_helper_dce80.o
-endif
 
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce80/command_table_helper_dce80.o
-endif
 
 ###############################################################################
 # DCE 11x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
-
-ifdef CONFIG_DRM_AMD_DAL_VBIOS_PRESENT
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce110/bios_parser_helper_dce110.o
-endif
 
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce110/command_table_helper_dce110.o
-endif
 
-ifdef CONFIG_DRM_AMD_DAL_DCE11_2
 ccflags-y += -DLATEST_ATOM_BIOS_SUPPORT
-ifdef CONFIG_DRM_AMD_DAL_VBIOS_PRESENT
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce112/bios_parser_helper_dce112.o
-endif
 
 AMD_DAL_FILES += $(AMDDALPATH)/dc/bios/dce112/command_table_helper_dce112.o
-endif
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
index 284fdf3..c69f283 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
@@ -13,26 +13,22 @@ AMD_DAL_FILES += $(AMD_DAL_GPIO)
 # DCE 8x
 ###############################################################################
 # all DCE8.x are derived from DCE8.0
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 GPIO_DCE80 = hw_translate_dce80.o hw_factory_dce80.o \
 	hw_ddc_dce80.o hw_hpd_dce80.o
 
 AMD_DAL_GPIO_DCE80 = $(addprefix $(AMDDALPATH)/dc/gpio/dce80/,$(GPIO_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_GPIO_DCE80)
-endif
 
 ###############################################################################
 # DCE 11x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 GPIO_DCE110 = hw_translate_dce110.o hw_factory_dce110.o hw_hpd_dce110.o \
 	hw_ddc_dce110.o
 
 AMD_DAL_GPIO_DCE110 = $(addprefix $(AMDDALPATH)/dc/gpio/dce110/,$(GPIO_DCE110))
 
 AMD_DAL_FILES += $(AMD_DAL_GPIO_DCE110)
-endif
 
 ###############################################################################
 # Diagnostics on FPGA
diff --git a/drivers/gpu/drm/amd/dal/dc/gpu/Makefile b/drivers/gpu/drm/amd/dal/dc/gpu/Makefile
index 5c44189..06f405a 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpu/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/gpu/Makefile
@@ -12,32 +12,25 @@ AMD_DAL_FILES += $(AMD_DAL_GPU)
 ###############################################################################
 # DCE 80 family
 ###############################################################################
-
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 GPU_DCE80 = display_clock_dce80.o dc_clock_gating_dce80.o
 
 AMD_DAL_GPU_DCE80 = $(addprefix $(AMDDALPATH)/dc/gpu/dce80/,$(GPU_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_GPU_DCE80)
-endif
 
 
 ###############################################################################
 # DCE 110 family
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 GPU_DCE110 = display_clock_dce110.o dc_clock_gating_dce110.o
 
 AMD_DAL_GPU_DCE110 = $(addprefix $(AMDDALPATH)/dc/gpu/dce110/,$(GPU_DCE110))
 
 AMD_DAL_FILES += $(AMD_DAL_GPU_DCE110)
-endif
 
-ifdef CONFIG_DRM_AMD_DAL_DCE11_2
 GPU_DCE112 = display_clock_dce112.o dc_clock_gating_dce112.o
 
 AMD_DAL_GPU_DCE112 = $(addprefix $(AMDDALPATH)/dc/gpu/dce112/,$(GPU_DCE112))
 
 AMD_DAL_FILES += $(AMD_DAL_GPU_DCE110) $(AMD_DAL_GPU_DCE112)
-endif
 
diff --git a/drivers/gpu/drm/amd/dal/dc/i2caux/Makefile b/drivers/gpu/drm/amd/dal/dc/i2caux/Makefile
index 6b23387..b08dc3f 100644
--- a/drivers/gpu/drm/amd/dal/dc/i2caux/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/i2caux/Makefile
@@ -12,48 +12,40 @@ AMD_DAL_FILES += $(AMD_DAL_I2CAUX)
 ###############################################################################
 # DCE 8x family
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 I2CAUX_DCE80 = i2caux_dce80.o i2c_hw_engine_dce80.o \
 	i2c_sw_engine_dce80.o
 
 AMD_DAL_I2CAUX_DCE80 = $(addprefix $(AMDDALPATH)/dc/i2caux/dce80/,$(I2CAUX_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_I2CAUX_DCE80)
-endif
 
 ###############################################################################
 # DCE 100 family
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE10_0
 I2CAUX_DCE100 = i2caux_dce100.o
 
 AMD_DAL_I2CAUX_DCE100 = $(addprefix $(AMDDALPATH)/dc/i2caux/dce100/,$(I2CAUX_DCE100))
 
 AMD_DAL_FILES += $(AMD_DAL_I2CAUX_DCE100)
-endif
 
 ###############################################################################
 # DCE 110 family
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 I2CAUX_DCE110 = i2caux_dce110.o i2c_sw_engine_dce110.o i2c_hw_engine_dce110.o \
 	aux_engine_dce110.o
 
 AMD_DAL_I2CAUX_DCE110 = $(addprefix $(AMDDALPATH)/dc/i2caux/dce110/,$(I2CAUX_DCE110))
 
 AMD_DAL_FILES += $(AMD_DAL_I2CAUX_DCE110)
-endif
 
 ###############################################################################
 # DCE 112 family
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_2
 I2CAUX_DCE112 = i2caux_dce112.o
 
 AMD_DAL_I2CAUX_DCE112 = $(addprefix $(AMDDALPATH)/dc/i2caux/dce112/,$(I2CAUX_DCE112))
 
 AMD_DAL_FILES += $(AMD_DAL_I2CAUX_DCE112)
-endif
 
 ###############################################################################
 # Diagnostics on FPGA
diff --git a/drivers/gpu/drm/amd/dal/dc/irq/Makefile b/drivers/gpu/drm/amd/dal/dc/irq/Makefile
index 4047dbc..c7c17c6 100644
--- a/drivers/gpu/drm/amd/dal/dc/irq/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/irq/Makefile
@@ -12,21 +12,17 @@ AMD_DAL_FILES += $(AMD_DAL_IRQ)
 ###############################################################################
 # DCE 8x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE8_0
 IRQ_DCE80 = irq_service_dce80.o
 
 AMD_DAL_IRQ_DCE80 = $(addprefix $(AMDDALPATH)/dc/irq/dce80/,$(IRQ_DCE80))
 
 AMD_DAL_FILES += $(AMD_DAL_IRQ_DCE80)
-endif
 
 ###############################################################################
 # DCE 11x
 ###############################################################################
-ifdef CONFIG_DRM_AMD_DAL_DCE11_0
 IRQ_DCE11 = irq_service_dce110.o
 
 AMD_DAL_IRQ_DCE11 = $(addprefix $(AMDDALPATH)/dc/irq/dce110/,$(IRQ_DCE11))
 
 AMD_DAL_FILES += $(AMD_DAL_IRQ_DCE11)
-endif
-- 
2.7.4

