From 85d74e0f4d580a7c111dfdcd9323ba35731783eb Mon Sep 17 00:00:00 2001
From: Awais Belal <awais_belal@mentor.com>
Date: Wed, 31 May 2017 12:14:05 +0500
Subject: [PATCH] CMakeLists.txt: obey CMAKE_INSTALL_LIBDIR

Not using the exact path that is set through cmake
will end up in a mixed configuration setup where
files are installed on hard-coded locations.

Signed-off-by: Awais Belal <awais_belal@mentor.com>
---
 OGLCompilersDLL/CMakeLists.txt             | 2 +-
 SPIRV/CMakeLists.txt                       | 2 +-
 glslang/CMakeLists.txt                     | 2 +-
 glslang/OSDependent/Unix/CMakeLists.txt    | 2 +-
 glslang/OSDependent/Windows/CMakeLists.txt | 2 +-
 hlsl/CMakeLists.txt                        | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/OGLCompilersDLL/CMakeLists.txt b/OGLCompilersDLL/CMakeLists.txt
index 4954db94..6b518d95 100644
--- a/OGLCompilersDLL/CMakeLists.txt
+++ b/OGLCompilersDLL/CMakeLists.txt
@@ -8,4 +8,4 @@ if(WIN32)
 endif(WIN32)
 
 install(TARGETS OGLCompiler 
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
diff --git a/SPIRV/CMakeLists.txt b/SPIRV/CMakeLists.txt
index aaf11780..cccd411c 100755
--- a/SPIRV/CMakeLists.txt
+++ b/SPIRV/CMakeLists.txt
@@ -52,6 +52,6 @@ if(WIN32)
 endif(WIN32)
 
 install(TARGETS SPIRV SPVRemapper
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
 
 install(FILES ${HEADERS} ${SPVREMAP_HEADERS} DESTINATION include/SPIRV/)
diff --git a/glslang/CMakeLists.txt b/glslang/CMakeLists.txt
index dac8cb89..46bf111b 100644
--- a/glslang/CMakeLists.txt
+++ b/glslang/CMakeLists.txt
@@ -96,7 +96,7 @@ if(WIN32)
 endif(WIN32)
 
 install(TARGETS glslang 
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
 
 foreach(file ${HEADERS})
     get_filename_component(dir ${file} DIRECTORY)
diff --git a/glslang/OSDependent/Unix/CMakeLists.txt b/glslang/OSDependent/Unix/CMakeLists.txt
index 174cc916..d98057b7 100644
--- a/glslang/OSDependent/Unix/CMakeLists.txt
+++ b/glslang/OSDependent/Unix/CMakeLists.txt
@@ -2,4 +2,4 @@ add_library(OSDependent STATIC ossource.cpp ../osinclude.h)
 set_property(TARGET OSDependent PROPERTY FOLDER glslang)
 
 install(TARGETS OSDependent 
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
diff --git a/glslang/OSDependent/Windows/CMakeLists.txt b/glslang/OSDependent/Windows/CMakeLists.txt
index 399760c3..744bcbbf 100644
--- a/glslang/OSDependent/Windows/CMakeLists.txt
+++ b/glslang/OSDependent/Windows/CMakeLists.txt
@@ -14,4 +14,4 @@ if(WIN32)
 endif(WIN32)
 
 install(TARGETS OSDependent 
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
diff --git a/hlsl/CMakeLists.txt b/hlsl/CMakeLists.txt
index ec5f1a56..10c2cacc 100755
--- a/hlsl/CMakeLists.txt
+++ b/hlsl/CMakeLists.txt
@@ -25,4 +25,4 @@ if(WIN32)
 endif(WIN32)
 
 install(TARGETS HLSL
-        ARCHIVE DESTINATION lib)
+        ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})
-- 
2.11.1

