From 5cd54dc3beef639493e7fd613938429759e464e5 Mon Sep 17 00:00:00 2001
From: Harish Kasiviswanathan <Harish.Kasiviswanathan@amd.com>
Date: Thu, 29 Sep 2016 14:23:03 -0400
Subject: [PATCH 1667/1722] drm/amdgpu: Fix incompatible pointer compiler
 warning

Change-Id: I5478e74237cf6fe729ddb68b1427b2b7f4db81c6
Signed-off-by: Harish Kasiviswanathan <Harish.Kasiviswanathan@amd.com>
---
 drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c b/drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c
index 07f7081..fff5c3a 100644
--- a/drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c
+++ b/drivers/gpu/drm/amd/amdgpu/amdgpu_amdkfd_gpuvm.c
@@ -1201,7 +1201,7 @@ int amdgpu_amdkfd_gpuvm_create_process_vm(struct kgd_dev *kgd, void **vm,
 	/* Initialize the VM context, allocate the page directory and zero it */
 	vm_update_using_cpu = !!(amdgpu_vm_update_context &
 				AMDGPU_VM_USE_CPU_UPDATE_FOR_COMPUTE_MASK);
-	ret = amdgpu_vm_init(adev, new_vm,
+	ret = amdgpu_vm_init(adev, &new_vm->base,
 			     (vm_update_using_cpu && check_if_large_bar(kgd)));
 	if (ret != 0) {
 		pr_err("amdgpu: failed init vm ret %d\n", ret);
-- 
2.7.4

