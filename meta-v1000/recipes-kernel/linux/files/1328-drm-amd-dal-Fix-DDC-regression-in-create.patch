From 2b7240a31e39df2871a620c5df48fb985af8669c Mon Sep 17 00:00:00 2001
From: Harry Wentland <harry.wentland@amd.com>
Date: Fri, 14 Oct 2016 16:29:04 -0400
Subject: [PATCH 1328/1722] drm/amd/dal: Fix DDC regression in create

Change-Id: I94a9945941e009f71bbf687d3f22b3610dea5fab
Signed-off-by: Harry Wentland <harry.wentland@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/core/dc_link_ddc.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc_link_ddc.c b/drivers/gpu/drm/amd/dal/dc/core/dc_link_ddc.c
index 44f7d06..1a7a871 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc_link_ddc.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc_link_ddc.c
@@ -280,10 +280,10 @@ static bool construct(
 	enum connector_id connector_id =
 		dal_graphics_object_id_get_connector_id(init_data->id);
 
-	struct gpio_service *gpio_service = ddc_service->as->gpio_service;
+	struct gpio_service *gpio_service = init_data->as->gpio_service;
 	struct graphics_object_i2c_info i2c_info;
 	struct gpio_ddc_hw_info hw_info;
-	struct dc_bios *dcb = ddc_service->ctx->dc_bios;
+	struct dc_bios *dcb = init_data->ctx->dc_bios;
 
 	ddc_service->link = init_data->link;
 	ddc_service->ctx = init_data->ctx;
-- 
2.7.4

