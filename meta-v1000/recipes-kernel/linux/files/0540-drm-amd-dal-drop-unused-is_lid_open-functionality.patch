From f1553dfaf46b3f391cebc4d60bce1a1fb83c6a73 Mon Sep 17 00:00:00 2001
From: Dave Airlie <airlied@redhat.com>
Date: Tue, 12 Apr 2016 09:34:05 +1000
Subject: [PATCH 0540/1722] drm/amd/dal: drop unused is_lid_open functionality.

Drop the unused bios lid open code.

Signed-off-by: Dave Airlie <airlied@redhat.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c | 7 -------
 drivers/gpu/drm/amd/dal/dc/bios/bios_parser.c        | 6 ------
 2 files changed, 13 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
index 760767e..e22f68f 100644
--- a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
+++ b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
@@ -1972,9 +1972,6 @@ bool dal_adapter_service_is_lid_open(struct adapter_service *as)
 {
 	bool is_lid_open = false;
 	struct platform_info_params params;
-#if defined(CONFIG_DRM_AMD_DAL_VBIOS_PRESENT)
-	struct dc_bios *dcb = dal_adapter_service_get_bios_parser(as);
-#endif
 
 	params.data = &is_lid_open;
 	params.method = PM_GET_LID_STATE;
@@ -1983,11 +1980,7 @@ bool dal_adapter_service_is_lid_open(struct adapter_service *as)
 		dm_get_platform_info(as->ctx, &params))
 		return is_lid_open;
 
-#if defined(CONFIG_DRM_AMD_DAL_VBIOS_PRESENT)
-	return dc_bios_is_lid_open(dcb);
-#else
 	return false;
-#endif
 }
 
 bool dal_adapter_service_get_panel_backlight_default_levels(
diff --git a/drivers/gpu/drm/amd/dal/dc/bios/bios_parser.c b/drivers/gpu/drm/amd/dal/dc/bios/bios_parser.c
index b2ccc66..266cd3e 100644
--- a/drivers/gpu/drm/amd/dal/dc/bios/bios_parser.c
+++ b/drivers/gpu/drm/amd/dal/dc/bios/bios_parser.c
@@ -4596,12 +4596,6 @@ void dc_bios_destroy_integrated_info(struct dc_bios *dcb,
 /******************************************************************************
 
  * Stub-functions */
-bool dc_bios_is_lid_open(
-	struct dc_bios *bios)
-{
-	BREAK_TO_DEBUGGER();
-	return false;
-}
 
 static bool bios_parser_construct(
 	struct bios_parser *bp,
-- 
2.7.4

