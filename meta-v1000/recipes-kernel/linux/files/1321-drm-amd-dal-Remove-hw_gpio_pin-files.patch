From 00460dde1a0410608774174126ae55f6adefb036 Mon Sep 17 00:00:00 2001
From: Harry Wentland <harry.wentland@amd.com>
Date: Wed, 12 Oct 2016 21:02:55 -0400
Subject: [PATCH 1321/1722] drm/amd/dal: Remove hw_gpio_pin files

Change-Id: I84a172becf90c07d04ed226c42bbf900801794cd
Signed-off-by: Harry Wentland <harry.wentland@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/gpio/Makefile           |  2 +-
 .../gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c |  1 -
 .../drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c |  1 -
 .../gpu/drm/amd/dal/dc/gpio/dce110/hw_hpd_dce110.c |  1 -
 .../amd/dal/dc/gpio/dce110/hw_translate_dce110.c   | 13 ----
 .../gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c   |  1 -
 .../drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c   |  1 -
 .../gpu/drm/amd/dal/dc/gpio/dce80/hw_hpd_dce80.c   |  1 -
 .../drm/amd/dal/dc/gpio/dce80/hw_translate_dce80.c | 13 ----
 drivers/gpu/drm/amd/dal/dc/gpio/ddc.c              |  1 -
 .../drm/amd/dal/dc/gpio/diagnostics/hw_ddc_diag.c  |  1 -
 .../amd/dal/dc/gpio/diagnostics/hw_factory_diag.c  |  1 -
 .../drm/amd/dal/dc/gpio/diagnostics/hw_hpd_diag.c  |  1 -
 drivers/gpu/drm/amd/dal/dc/gpio/gpio_base.c        |  2 +-
 drivers/gpu/drm/amd/dal/dc/gpio/gpio_service.c     |  2 +-
 drivers/gpu/drm/amd/dal/dc/gpio/hw_ddc.c           |  1 -
 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.c          | 12 +--
 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.h          | 34 +++++++++
 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pad.c      |  1 -
 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.c      | 85 ----------------------
 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.h      | 79 --------------------
 drivers/gpu/drm/amd/dal/dc/gpio/hw_hpd.c           |  1 -
 drivers/gpu/drm/amd/dal/dc/gpio/irq.c              |  1 -
 23 files changed, 43 insertions(+), 213 deletions(-)
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.c
 delete mode 100644 drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.h

diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
index a0d165c..92a03ea 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/Makefile
@@ -3,7 +3,7 @@
 # It provides the control and status of HW GPIO pins.
 
 GPIO = ddc.o gpio_base.o gpio_service.o hw_ddc.o hw_factory.o \
-       hw_gpio.o hw_gpio_pad.o hw_gpio_pin.o hw_hpd.o hw_translate.o irq.o
+       hw_gpio.o hw_gpio_pad.o hw_hpd.o hw_translate.o irq.o
 
 AMD_DAL_GPIO = $(addprefix $(AMDDALPATH)/dc/gpio/,$(GPIO))
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
index 7cbdc35..78801ef 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_ddc_dce110.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
index bdeb601..88714ca 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_factory_dce110.c
@@ -35,7 +35,6 @@
  * Header of this unit
  */
 
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
 #include "../hw_hpd.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_hpd_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_hpd_dce110.c
index f385394..046fa81 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_hpd_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_hpd_dce110.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_hpd.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_translate_dce110.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_translate_dce110.c
index b058f4d..ac4cddb 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_translate_dce110.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce110/hw_translate_dce110.c
@@ -31,21 +31,8 @@
 #include "include/gpio_types.h"
 #include "../hw_translate.h"
 
-/*
- * Header of this unit
- */
 #include "hw_translate_dce110.h"
 
-/*
- * Post-requisites: headers required by this unit
- */
-
-/*
- * This unit
- */
-
-#include "../hw_gpio_pin.h"
-
 #include "dce/dce_11_0_d.h"
 #include "dce/dce_11_0_sh_mask.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
index 74b980d..9a22402 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_ddc_dce80.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
index d1ea56d..d139c77 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_factory_dce80.c
@@ -41,7 +41,6 @@
  * Post-requisites: headers required by this unit
  */
 
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_gpio_pad.h"
 #include "../hw_ddc.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_hpd_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_hpd_dce80.c
index 342b3aa..7531a1d 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_hpd_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_hpd_dce80.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_hpd.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_translate_dce80.c b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_translate_dce80.c
index 9788106..fabb9da 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_translate_dce80.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/dce80/hw_translate_dce80.c
@@ -31,21 +31,8 @@
 #include "include/gpio_types.h"
 #include "../hw_translate.h"
 
-/*
- * Header of this unit
- */
-
 #include "hw_translate_dce80.h"
 
-/*
- * Post-requisites: headers required by this unit
- */
-
-/*
- * This unit
- */
-
-#include "../hw_gpio_pin.h"
 #include "dce/dce_8_0_d.h"
 #include "dce/dce_8_0_sh_mask.h"
 #include "smu/smu_7_0_1_d.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/ddc.c b/drivers/gpu/drm/amd/dal/dc/gpio/ddc.c
index 9b46924..a44b5cd 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/ddc.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/ddc.c
@@ -32,7 +32,6 @@
 #include "include/gpio_interface.h"
 #include "include/ddc_interface.h"
 #include "include/gpio_service_interface.h"
-#include "hw_gpio_pin.h"
 #include "hw_translate.h"
 #include "hw_factory.h"
 #include "gpio_service.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_ddc_diag.c b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_ddc_diag.c
index 6e4bfd2..07bed15 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_ddc_diag.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_ddc_diag.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_factory_diag.c b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_factory_diag.c
index 0690b42..6a7b5f5 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_factory_diag.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_factory_diag.c
@@ -35,7 +35,6 @@
  * Header of this unit
  */
 
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_ddc.h"
 #include "../hw_hpd.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_hpd_diag.c b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_hpd_diag.c
index c193f0e..bdb31b9 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_hpd_diag.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/diagnostics/hw_hpd_diag.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "../hw_gpio_pin.h"
 #include "../hw_gpio.h"
 #include "../hw_hpd.h"
 
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/gpio_base.c b/drivers/gpu/drm/amd/dal/dc/gpio/gpio_base.c
index d947933..5a65c0c 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/gpio_base.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/gpio_base.c
@@ -31,7 +31,7 @@
 
 #include "include/gpio_interface.h"
 #include "include/gpio_service_interface.h"
-#include "hw_gpio_pin.h"
+#include "hw_gpio.h"
 #include "hw_translate.h"
 #include "hw_factory.h"
 #include "gpio_service.h"
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/gpio_service.c b/drivers/gpu/drm/amd/dal/dc/gpio/gpio_service.c
index a05402f..db97525 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/gpio_service.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/gpio_service.c
@@ -45,7 +45,7 @@
  * Post-requisites: headers required by this unit
  */
 
-#include "hw_gpio_pin.h"
+#include "hw_gpio.h"
 
 /*
  * @brief
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_ddc.c b/drivers/gpu/drm/amd/dal/dc/gpio/hw_ddc.c
index 41e46a7..e5651c2 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_ddc.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hw_ddc.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "hw_gpio_pin.h"
 #include "hw_gpio.h"
 
 /*
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.c b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.c
index 2a2262c..ff2f4cb 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "hw_gpio_pin.h"
 
 /*
  * Header of this unit
@@ -370,10 +369,11 @@ bool dal_hw_gpio_construct(
 	uint32_t en,
 	struct dc_context *ctx)
 {
-	struct hw_gpio_pin *base = &pin->base;
-
-	if (!dal_hw_gpio_pin_construct(base, id, en, ctx))
-		return false;
+	pin->base.ctx = ctx;
+	pin->base.id = id;
+	pin->base.en = en;
+	pin->base.mode = GPIO_MODE_UNKNOWN;
+	pin->base.opened = false;
 
 	pin->funcs = &func;
 
@@ -403,5 +403,5 @@ bool dal_hw_gpio_construct(
 void dal_hw_gpio_destruct(
 	struct hw_gpio *pin)
 {
-	dal_hw_gpio_pin_destruct(&pin->base);
+	ASSERT(!pin->base.opened);
 }
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.h b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.h
index 44eb86e..2e478a0 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.h
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio.h
@@ -44,6 +44,40 @@ enum gpio_result dal_hw_gpio_set_reg_value(
 uint32_t dal_hw_gpio_get_shift_from_mask(
 	uint32_t mask);
 
+
+struct hw_gpio_pin {
+	const struct hw_gpio_pin_funcs *funcs;
+	enum gpio_id id;
+	uint32_t en;
+	enum gpio_mode mode;
+	bool opened;
+	struct dc_context *ctx;
+};
+
+struct hw_gpio_pin_funcs {
+	void (*destroy)(
+		struct hw_gpio_pin **ptr);
+	bool (*open)(
+		struct hw_gpio_pin *pin,
+		enum gpio_mode mode,
+		void *options);
+	enum gpio_result (*get_value)(
+		const struct hw_gpio_pin *pin,
+		uint32_t *value);
+	enum gpio_result (*set_value)(
+		const struct hw_gpio_pin *pin,
+		uint32_t value);
+	enum gpio_result (*set_config)(
+		struct hw_gpio_pin *pin,
+		const struct gpio_config_data *config_data);
+	enum gpio_result (*change_mode)(
+		struct hw_gpio_pin *pin,
+		enum gpio_mode mode);
+	void (*close)(
+		struct hw_gpio_pin *pin);
+};
+
+
 struct hw_gpio;
 
 struct hw_gpio_funcs {
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pad.c b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pad.c
index 2392f2c..cb47353 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pad.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pad.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "hw_gpio_pin.h"
 #include "hw_gpio.h"
 
 /*
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.c b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.c
deleted file mode 100644
index 411ad89..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.c
+++ /dev/null
@@ -1,85 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#include "dm_services.h"
-
-/*
- * Pre-requisites: headers required by header of this unit
- */
-#include "include/gpio_types.h"
-
-/*
- * Header of this unit
- */
-
-#include "hw_gpio_pin.h"
-
-/*
- * Post-requisites: headers required by this unit
- */
-
-/*
- * This unit
- */
-enum gpio_result dal_hw_gpio_pin_set_config(
-	struct hw_gpio_pin *pin,
-	const struct gpio_config_data *config_data)
-{
-	/* Attention!
-	 * You must override this method in derived class */
-
-	return GPIO_RESULT_NON_SPECIFIC_ERROR;
-}
-
-enum gpio_result dal_hw_gpio_pin_change_mode(
-	struct hw_gpio_pin *pin,
-	enum gpio_mode mode)
-{
-	/* Attention!
-	 * You must override this method in derived class */
-
-	return GPIO_RESULT_NON_SPECIFIC_ERROR;
-}
-
-bool dal_hw_gpio_pin_construct(
-	struct hw_gpio_pin *pin,
-	enum gpio_id id,
-	uint32_t en,
-	struct dc_context *ctx)
-{
-	pin->ctx = ctx;
-	pin->id = id;
-	pin->en = en;
-	pin->mode = GPIO_MODE_UNKNOWN;
-	pin->opened = false;
-
-	return true;
-}
-
-void dal_hw_gpio_pin_destruct(
-	struct hw_gpio_pin *pin)
-{
-	ASSERT(!pin->opened);
-}
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.h b/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.h
deleted file mode 100644
index d1f2f27..0000000
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_gpio_pin.h
+++ /dev/null
@@ -1,79 +0,0 @@
-/*
- * Copyright 2012-15 Advanced Micro Devices, Inc.
- *
- * Permission is hereby granted, free of charge, to any person obtaining a
- * copy of this software and associated documentation files (the "Software"),
- * to deal in the Software without restriction, including without limitation
- * the rights to use, copy, modify, merge, publish, distribute, sublicense,
- * and/or sell copies of the Software, and to permit persons to whom the
- * Software is furnished to do so, subject to the following conditions:
- *
- * The above copyright notice and this permission notice shall be included in
- * all copies or substantial portions of the Software.
- *
- * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
- * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
- * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
- * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR
- * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
- * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
- * OTHER DEALINGS IN THE SOFTWARE.
- *
- * Authors: AMD
- *
- */
-
-#ifndef __DAL_HW_GPIO_PIN_H__
-#define __DAL_HW_GPIO_PIN_H__
-
-struct hw_gpio_pin;
-
-struct hw_gpio_pin_funcs {
-	void (*destroy)(
-		struct hw_gpio_pin **ptr);
-	bool (*open)(
-		struct hw_gpio_pin *pin,
-		enum gpio_mode mode,
-		void *options);
-	enum gpio_result (*get_value)(
-		const struct hw_gpio_pin *pin,
-		uint32_t *value);
-	enum gpio_result (*set_value)(
-		const struct hw_gpio_pin *pin,
-		uint32_t value);
-	enum gpio_result (*set_config)(
-		struct hw_gpio_pin *pin,
-		const struct gpio_config_data *config_data);
-	enum gpio_result (*change_mode)(
-		struct hw_gpio_pin *pin,
-		enum gpio_mode mode);
-	void (*close)(
-		struct hw_gpio_pin *pin);
-};
-
-struct hw_gpio_pin {
-	const struct hw_gpio_pin_funcs *funcs;
-	enum gpio_id id;
-	uint32_t en;
-	enum gpio_mode mode;
-	bool opened;
-	struct dc_context *ctx;
-};
-
-bool dal_hw_gpio_pin_construct(
-	struct hw_gpio_pin *pin,
-	enum gpio_id id,
-	uint32_t en,
-	struct dc_context *ctx);
-
-void dal_hw_gpio_pin_destruct(
-	struct hw_gpio_pin *pin);
-
-enum gpio_result dal_hw_gpio_pin_change_mode(
-	struct hw_gpio_pin *pin,
-	enum gpio_mode mode);
-
-enum gpio_result dal_hw_gpio_pin_set_config(
-	struct hw_gpio_pin *pin,
-	const struct gpio_config_data *config_data);
-#endif
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/hw_hpd.c b/drivers/gpu/drm/amd/dal/dc/gpio/hw_hpd.c
index f072fd5..b9bf19b 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/hw_hpd.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/hw_hpd.c
@@ -29,7 +29,6 @@
  * Pre-requisites: headers required by header of this unit
  */
 #include "include/gpio_types.h"
-#include "hw_gpio_pin.h"
 #include "hw_gpio.h"
 
 /*
diff --git a/drivers/gpu/drm/amd/dal/dc/gpio/irq.c b/drivers/gpu/drm/amd/dal/dc/gpio/irq.c
index 24537a9..fd51565 100644
--- a/drivers/gpu/drm/amd/dal/dc/gpio/irq.c
+++ b/drivers/gpu/drm/amd/dal/dc/gpio/irq.c
@@ -31,7 +31,6 @@
 #include "include/gpio_interface.h"
 #include "include/irq_interface.h"
 #include "include/gpio_service_interface.h"
-#include "hw_gpio_pin.h"
 #include "hw_translate.h"
 #include "hw_factory.h"
 #include "gpio_service.h"
-- 
2.7.4

