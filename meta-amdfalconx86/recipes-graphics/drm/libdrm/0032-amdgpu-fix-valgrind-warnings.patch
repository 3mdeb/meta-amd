From a968b506143e499db4e3cc45b5b982177a1ba067 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Marek=20Ol=C5=A1=C3=A1k?= <marek.olsak@amd.com>
Date: Thu, 4 Jun 2015 18:57:50 +0200
Subject: [PATCH 32/55] amdgpu: fix valgrind warnings

Reviewed-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Arindam Nath <arindam.nath@amd.com>
---
 amdgpu/amdgpu_device.c   | 2 +-
 amdgpu/amdgpu_gpu_info.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/amdgpu/amdgpu_device.c b/amdgpu/amdgpu_device.c
index 212e707..4404839 100644
--- a/amdgpu/amdgpu_device.c
+++ b/amdgpu/amdgpu_device.c
@@ -110,7 +110,7 @@ static int fd_compare(void *key1, void *key2)
 static int amdgpu_get_auth(int fd, int *auth)
 {
 	int r = 0;
-	drm_client_t client;
+	drm_client_t client = {};
 
 	if (drmGetNodeTypeFromFd(fd) == DRM_NODE_RENDER)
 		*auth = 0;
diff --git a/amdgpu/amdgpu_gpu_info.c b/amdgpu/amdgpu_gpu_info.c
index 793062b..df193ee 100644
--- a/amdgpu/amdgpu_gpu_info.c
+++ b/amdgpu/amdgpu_gpu_info.c
@@ -230,7 +230,7 @@ int amdgpu_query_heap_info(amdgpu_device_handle dev,
 			uint32_t flags,
 			struct amdgpu_heap_info *info)
 {
-	struct drm_amdgpu_info_vram_gtt vram_gtt_info;
+	struct drm_amdgpu_info_vram_gtt vram_gtt_info = {};
 	int r;
 
 	r = amdgpu_query_info(dev, AMDGPU_INFO_VRAM_GTT,
-- 
1.9.1

