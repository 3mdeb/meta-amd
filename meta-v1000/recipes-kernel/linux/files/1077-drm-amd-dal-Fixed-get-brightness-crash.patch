From db4f7351c0d90dfc67f714a4fa35c981df520697 Mon Sep 17 00:00:00 2001
From: Yongqiang Sun <yongqiang.sun@amd.com>
Date: Tue, 13 Sep 2016 11:29:30 -0400
Subject: [PATCH 1077/1722] drm/amd/dal: Fixed get brightness crash.

Change-Id: I17e770b38f6d4954648378f3db6b177b38d77ce2
Signed-off-by: Yongqiang Sun <yongqiang.sun@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/modules/backlight/backlight.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/dal/modules/backlight/backlight.c b/drivers/gpu/drm/amd/dal/modules/backlight/backlight.c
index f159023..f2d6745 100644
--- a/drivers/gpu/drm/amd/dal/modules/backlight/backlight.c
+++ b/drivers/gpu/drm/amd/dal/modules/backlight/backlight.c
@@ -543,7 +543,7 @@ unsigned int mod_backlight_backlight_level_signal_to_percentage(
 			else
 				break;
 
-			if (max == 0)
+			if (max == 0 || max == 1)
 				return invalid_backlight;
 		}
 		return mid;
-- 
2.7.4

