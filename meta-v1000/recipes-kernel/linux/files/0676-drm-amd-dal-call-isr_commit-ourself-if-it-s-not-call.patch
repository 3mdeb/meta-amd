From 28cbb10e9863433b5520e69038d9ebf292eecc37 Mon Sep 17 00:00:00 2001
From: Eric Yang <eric.yang2@amd.com>
Date: Fri, 29 Jul 2016 10:28:18 -0400
Subject: [PATCH 0676/1722] drm/amd/dal: call isr_commit ourself if it's not
 called in post

Signed-off-by: Eric Yang <eric.yang2@amd.com>
Acked-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/core/dc.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/core/dc.c b/drivers/gpu/drm/amd/dal/dc/core/dc.c
index 2f46acb..1884a79 100644
--- a/drivers/gpu/drm/amd/dal/dc/core/dc.c
+++ b/drivers/gpu/drm/amd/dal/dc/core/dc.c
@@ -1042,7 +1042,7 @@ bool dc_post_commit_surfaces_to_target(
         struct core_dc *core_dc = DC_TO_CORE(dc);
  
         if (context->locked)
-                return false;
+                dc_isr_commit_surfaces_to_target(dc, context);
  
         for (i = 0; i < context->res_ctx.pool->pipe_count; i++) {
                 if (core_dc->current_context->res_ctx.pipe_ctx[i].stream != NULL
-- 
2.7.4

