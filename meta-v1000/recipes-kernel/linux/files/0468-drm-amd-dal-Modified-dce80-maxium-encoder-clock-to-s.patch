From f24161194b063007d05600b10a7ca1000b09390c Mon Sep 17 00:00:00 2001
From: Yongqiang Sun <yongqiang.sun@amd.com>
Date: Wed, 11 May 2016 14:11:14 -0400
Subject: [PATCH 0468/1722] drm/amd/dal: Modified dce80 maxium encoder clock to
 support DP 4K@60.

Signed-off-by: Yongqiang Sun <yongqiang.sun@amd.com>
Reivewed-by: Eagle Yeh <eagle.yeh@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/dce80/dce80_link_encoder.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/amd/dal/dc/dce80/dce80_link_encoder.c b/drivers/gpu/drm/amd/dal/dc/dce80/dce80_link_encoder.c
index 653983d..60c9837 100644
--- a/drivers/gpu/drm/amd/dal/dc/dce80/dce80_link_encoder.c
+++ b/drivers/gpu/drm/amd/dal/dc/dce80/dce80_link_encoder.c
@@ -38,6 +38,9 @@
 #define LINK_REG(reg)\
 	(enc110->link_regs->reg)
 
+/* For current ASICs pixel clock - 600MHz */
+#define MAX_ENCODER_CLK 600000
+
 #define DCE8_UNIPHY_MAX_PIXEL_CLK_IN_KHZ 297000
 
 #define DEFAULT_AUX_MAX_DATA_SIZE 16
@@ -237,7 +240,7 @@ bool dce80_link_encoder_construct(
 
 	enc110->base.features.flags.bits.IS_AUDIO_CAPABLE = true;
 
-	enc110->base.features.max_pixel_clock = DCE8_UNIPHY_MAX_PIXEL_CLK_IN_KHZ;
+	enc110->base.features.max_pixel_clock = MAX_ENCODER_CLK;
 
 	enc110->base.features.max_hdmi_pixel_clock =
 			DCE8_UNIPHY_MAX_PIXEL_CLK_IN_KHZ;
-- 
2.7.4

