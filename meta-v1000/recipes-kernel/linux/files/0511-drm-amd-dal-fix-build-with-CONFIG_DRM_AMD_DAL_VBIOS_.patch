From 3f45c3c116aa95180618e21ce73c716c0707297e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Date: Wed, 1 Jun 2016 16:15:21 +0200
Subject: [PATCH 0511/1722] drm/amd/dal: fix build with
 CONFIG_DRM_AMD_DAL_VBIOS_PRESENT=n
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Fixes "error: unused variable ‘dcb’".

Signed-off-by: Nicolai Hähnle <nicolai.haehnle@amd.com>
Reviewed-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Signed-off-by: Kalyan Alle <kalyan.alle@amd.com>
---
 drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
index 9cf5907..ffc9299 100644
--- a/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
+++ b/drivers/gpu/drm/amd/dal/dc/adapter/adapter_service.c
@@ -1972,7 +1972,9 @@ bool dal_adapter_service_is_lid_open(struct adapter_service *as)
 {
 	bool is_lid_open = false;
 	struct platform_info_params params;
+#if defined(CONFIG_DRM_AMD_DAL_VBIOS_PRESENT)
 	struct dc_bios *dcb = dal_adapter_service_get_bios_parser(as);
+#endif
 
 	params.data = &is_lid_open;
 	params.method = PM_GET_LID_STATE;
-- 
2.7.4

