From 9e7718bebf133c8ea40acec2b3430fb8968317c5 Mon Sep 17 00:00:00 2001
From: Mykola Lysenko <mykola.lysenko@amd.com>
Date: Thu, 9 Jul 2015 07:49:26 -0400
Subject: [PATCH 361/401] amd/dal: removed warnings from different components

Signed-off-by: Mykola Lysenko <mykola.lysenko@amd.com>
Reviewed-by: Eagle Yeh <eagle.yeh@amd.com>
Signed-off-by: Sanjay R Mehta <sanju.mehta@amd.com>
---
 .../amd/dal/controller/dce110/surface_v_dce110.c   |  9 ++++++++
 .../amd/dal/gpu/dce110/dc_clock_gating_dce110.c    |  5 -----
 .../gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c    | 25 ----------------------
 .../gpu/drm/amd/dal/i2caux/i2c_generic_hw_engine.c |  3 ++-
 4 files changed, 11 insertions(+), 31 deletions(-)

diff --git a/drivers/gpu/drm/amd/dal/controller/dce110/surface_v_dce110.c b/drivers/gpu/drm/amd/dal/controller/dce110/surface_v_dce110.c
index 7a1a559..f0da4e2 100644
--- a/drivers/gpu/drm/amd/dal/controller/dce110/surface_v_dce110.c
+++ b/drivers/gpu/drm/amd/dal/controller/dce110/surface_v_dce110.c
@@ -119,6 +119,15 @@ static void program_pixel_format(
 
 		value = dal_read_reg(sf->ctx, addr);
 
+		grph_depth = get_reg_field_value(
+			value,
+			UNP_GRPH_CONTROL,
+			GRPH_DEPTH);
+		grph_format = get_reg_field_value(
+			value,
+			UNP_GRPH_CONTROL,
+			GRPH_FORMAT);
+
 		switch (format) {
 		case SURFACE_PIXEL_FORMAT_GRPH_PALETA_256_COLORS:
 			grph_depth = 0;
diff --git a/drivers/gpu/drm/amd/dal/gpu/dce110/dc_clock_gating_dce110.c b/drivers/gpu/drm/amd/dal/gpu/dce110/dc_clock_gating_dce110.c
index 7a33dbf..229b723 100644
--- a/drivers/gpu/drm/amd/dal/gpu/dce110/dc_clock_gating_dce110.c
+++ b/drivers/gpu/drm/amd/dal/gpu/dce110/dc_clock_gating_dce110.c
@@ -67,11 +67,6 @@ static void enable_hw_base_light_sleep(struct dal_context *dal_context)
 	NOT_IMPLEMENTED();
 }
 
-static void disable_hw_base_light_sleep(struct dal_context *dal_context)
-{
-	NOT_IMPLEMENTED();
-}
-
 static void disable_sw_manual_control_light_sleep(
 		struct dal_context *dal_context)
 {
diff --git a/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c b/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
index 079b365..c34bc4f 100644
--- a/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
+++ b/drivers/gpu/drm/amd/dal/hw_sequencer/hw_sequencer.c
@@ -333,31 +333,6 @@ static enum color_space translate_to_color_space(
 	}
 }
 
-static enum color_space translate_from_surface_color_splace(
-		struct plane_colorimetry surface_colorimetry)
-{
-	switch (surface_colorimetry.color_space)
-	{
-	case SURFACE_COLOR_SPACE_SRGB:
-		return surface_colorimetry.limited_range ?
-				COLOR_SPACE_SRGB_LIMITED_RANGE :
-				COLOR_SPACE_SRGB_FULL_RANGE;
-	case SURFACE_COLOR_SPACE_BT601:
-	case SURFACE_COLOR_SPACE_XVYCC_BT601:
-		return surface_colorimetry.limited_range ?
-			COLOR_SPACE_YCBCR601 :
-			COLOR_SPACE_YPBPR601;
-	case SURFACE_COLOR_SPACE_BT709:
-	case SURFACE_COLOR_SPACE_XVYCC_BT709:
-		return surface_colorimetry.limited_range ?
-			COLOR_SPACE_YCBCR709 :
-			COLOR_SPACE_YPBPR709;
-	case SURFACE_COLOR_SPACE_XRRGB:
-	default:
-		return COLOR_SPACE_SRGB_FULL_RANGE;
-	}
-}
-
 static enum display_output_bit_depth translate_to_display_output_bit_depth(
 	enum hw_color_depth color_depth)
 {
diff --git a/drivers/gpu/drm/amd/dal/i2caux/i2c_generic_hw_engine.c b/drivers/gpu/drm/amd/dal/i2caux/i2c_generic_hw_engine.c
index 3eefd2b..115d8af 100644
--- a/drivers/gpu/drm/amd/dal/i2caux/i2c_generic_hw_engine.c
+++ b/drivers/gpu/drm/amd/dal/i2caux/i2c_generic_hw_engine.c
@@ -101,7 +101,8 @@ bool dal_i2c_generic_hw_engine_submit_request(
 
 	struct i2c_generic_transaction_attributes attributes;
 
-	enum i2c_channel_operation_result operation_result;
+	enum i2c_channel_operation_result operation_result =
+		I2C_CHANNEL_OPERATION_FAILED;
 
 	bool result = false;
 
-- 
1.9.1

